<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>hjson API documentation</title>
    <meta name="description" content="Hjson, the Human JSON. A configuration file format that caters to
humans and helps reduce the errors..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#hjson.dump">dump</a></li>
    <li class="mono"><a href="#hjson.dumpJSON">dumpJSON</a></li>
    <li class="mono"><a href="#hjson.dumps">dumps</a></li>
    <li class="mono"><a href="#hjson.dumpsJSON">dumpsJSON</a></li>
    <li class="mono"><a href="#hjson.load">load</a></li>
    <li class="mono"><a href="#hjson.loads">loads</a></li>
    <li class="mono"><a href="#hjson.simple_first">simple_first</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#hjson.HjsonDecodeError">HjsonDecodeError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#hjson.HjsonDecodeError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#hjson.HjsonDecoder">HjsonDecoder</a></span>
        
          
  <ul>
    <li class="mono"><a href="#hjson.HjsonDecoder.__init__">__init__</a></li>
    <li class="mono"><a href="#hjson.HjsonDecoder.decode">decode</a></li>
    <li class="mono"><a href="#hjson.HjsonDecoder.raw_decode">raw_decode</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#hjson.HjsonEncoder">HjsonEncoder</a></span>
        
          
  <ul>
    <li class="mono"><a href="#hjson.HjsonEncoder.__init__">__init__</a></li>
    <li class="mono"><a href="#hjson.HjsonEncoder.default">default</a></li>
    <li class="mono"><a href="#hjson.HjsonEncoder.encode">encode</a></li>
    <li class="mono"><a href="#hjson.HjsonEncoder.iterencode">iterencode</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#hjson.JSONEncoder">JSONEncoder</a></span>
        
          
  <ul>
    <li class="mono"><a href="#hjson.JSONEncoder.__init__">__init__</a></li>
    <li class="mono"><a href="#hjson.JSONEncoder.default">default</a></li>
    <li class="mono"><a href="#hjson.JSONEncoder.encode">encode</a></li>
    <li class="mono"><a href="#hjson.JSONEncoder.iterencode">iterencode</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#hjson.OrderedDict">OrderedDict</a></span>
        
          
  <ul>
    <li class="mono"><a href="#hjson.OrderedDict.__init__">__init__</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.clear">clear</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.copy">copy</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.items">items</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.keys">keys</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.move_to_end">move_to_end</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.pop">pop</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.popitem">popitem</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.setdefault">setdefault</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.update">update</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.values">values</a></li>
    <li class="mono"><a href="#hjson.OrderedDict.fromkeys">fromkeys</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">hjson</span> module</h1>
  <p>Hjson, the Human JSON. A configuration file format that caters to
humans and helps reduce the errors they make.</p>
<p>For details and syntax see <a href="http://hjson.org">http://hjson.org</a>.</p>
<p>Decoding Hjson::</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">hjson</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;{</span><span class="se">\n</span><span class="s">  foo: a</span><span class="se">\n</span><span class="s">  bar: 1</span><span class="se">\n</span><span class="s">}&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">hjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">OrderedDict</span><span class="p">([(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
</pre></div>


<p>Encoding Python object hierarchies::</p>
<div class="codehilite"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">hjson</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c"># hjson.dumps({&#39;foo&#39;: &#39;text&#39;, &#39;bar&#39;: (1, 2)})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">hjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">([(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;text&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))]))</span>
<span class="s">&#39;{</span><span class="se">\n</span><span class="s">  foo: text</span><span class="se">\n</span><span class="s">  bar:</span><span class="se">\n</span><span class="s">  [</span><span class="se">\n</span><span class="s">    1</span><span class="se">\n</span><span class="s">    2</span><span class="se">\n</span><span class="s">  ]</span><span class="se">\n</span><span class="s">}&#39;</span>
</pre></div>


<p>Encoding as JSON::</p>
<div class="codehilite"><pre><span class="n">Note</span> <span class="n">that</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">probably</span> <span class="ow">not</span> <span class="k">as</span> <span class="n">performant</span> <span class="k">as</span> <span class="n">the</span> <span class="n">simplejson</span> <span class="n">version</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">hjson</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">hjson</span><span class="o">.</span><span class="n">dumpsJSON</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;baz&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)}])</span>
<span class="s">&#39;[&quot;foo&quot;, {&quot;bar&quot;: [&quot;baz&quot;, null, 1.0, 2]}]&#39;</span>
</pre></div>


<p>Using hjson.tool from the shell to validate and pretty-print::</p>
<div class="codehilite"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s1">&#39;{&quot;json&quot;:&quot;obj&quot;}&#39;</span> <span class="p">|</span> python -m hjson.tool
<span class="o">{</span>
  json: obj
<span class="o">}</span>

Other formats are -c <span class="k">for</span> compact or -j <span class="k">for</span> formatted JSON.
</pre></div>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson', this);">Show source &equiv;</a></p>
  <div id="source-hjson" class="source">
    <div class="codehilite"><pre><span class="sd">r&quot;&quot;&quot;Hjson, the Human JSON. A configuration file format that caters to</span>
<span class="sd">humans and helps reduce the errors they make.</span>

<span class="sd">For details and syntax see &lt;http://hjson.org&gt;.</span>

<span class="sd">Decoding Hjson::</span>

<span class="sd">    &gt;&gt;&gt; import hjson</span>
<span class="sd">    &gt;&gt;&gt; text = &quot;{\n  foo: a\n  bar: 1\n}&quot;</span>
<span class="sd">    &gt;&gt;&gt; hjson.loads(text)</span>
<span class="sd">    OrderedDict([(&#39;foo&#39;, &#39;a&#39;), (&#39;bar&#39;, 1)])</span>

<span class="sd">Encoding Python object hierarchies::</span>

<span class="sd">    &gt;&gt;&gt; import hjson</span>
<span class="sd">    &gt;&gt;&gt; # hjson.dumps({&#39;foo&#39;: &#39;text&#39;, &#39;bar&#39;: (1, 2)})</span>
<span class="sd">    &gt;&gt;&gt; hjson.dumps(OrderedDict([(&#39;foo&#39;, &#39;text&#39;), (&#39;bar&#39;, (1, 2))]))</span>
<span class="sd">    &#39;{\n  foo: text\n  bar:\n  [\n    1\n    2\n  ]\n}&#39;</span>

<span class="sd">Encoding as JSON::</span>

<span class="sd">    Note that this is probably not as performant as the simplejson version.</span>

<span class="sd">    &gt;&gt;&gt; import hjson</span>
<span class="sd">    &gt;&gt;&gt; hjson.dumpsJSON([&#39;foo&#39;, {&#39;bar&#39;: (&#39;baz&#39;, None, 1.0, 2)}])</span>
<span class="sd">    &#39;[&quot;foo&quot;, {&quot;bar&quot;: [&quot;baz&quot;, null, 1.0, 2]}]&#39;</span>

<span class="sd">Using hjson.tool from the shell to validate and pretty-print::</span>

<span class="sd">    $ echo &#39;{&quot;json&quot;:&quot;obj&quot;}&#39; | python -m hjson.tool</span>
<span class="sd">    {</span>
<span class="sd">      json: obj</span>
<span class="sd">    }</span>

<span class="sd">    Other formats are -c for compact or -j for formatted JSON.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s">&#39;1.5.8&#39;</span>
<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&#39;dump&#39;</span><span class="p">,</span> <span class="s">&#39;dumps&#39;</span><span class="p">,</span> <span class="s">&#39;load&#39;</span><span class="p">,</span> <span class="s">&#39;loads&#39;</span><span class="p">,</span>
    <span class="s">&#39;dumpJSON&#39;</span><span class="p">,</span> <span class="s">&#39;dumpsJSON&#39;</span><span class="p">,</span>
    <span class="s">&#39;HjsonDecoder&#39;</span><span class="p">,</span> <span class="s">&#39;HjsonDecodeError&#39;</span><span class="p">,</span> <span class="s">&#39;HjsonEncoder&#39;</span><span class="p">,</span> <span class="s">&#39;JSONEncoder&#39;</span><span class="p">,</span>
    <span class="s">&#39;OrderedDict&#39;</span><span class="p">,</span> <span class="s">&#39;simple_first&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c"># based on simplejson by</span>
<span class="c"># __author__ = &#39;Bob Ippolito &lt;bob@redivi.com&gt;&#39;</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s">&#39;Christian Zangl &lt;coralllama@gmail.com&gt;&#39;</span>

<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>

<span class="kn">from</span> <span class="nn">.scanner</span> <span class="kn">import</span> <span class="n">HjsonDecodeError</span>
<span class="kn">from</span> <span class="nn">.decoder</span> <span class="kn">import</span> <span class="n">HjsonDecoder</span>
<span class="kn">from</span> <span class="nn">.encoderH</span> <span class="kn">import</span> <span class="n">HjsonEncoder</span>
<span class="kn">from</span> <span class="nn">.encoder</span> <span class="kn">import</span> <span class="n">JSONEncoder</span>
<span class="k">def</span> <span class="nf">_import_OrderedDict</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">collections</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">ordered_dict</span>
        <span class="k">return</span> <span class="n">ordered_dict</span><span class="o">.</span><span class="n">OrderedDict</span>
<span class="n">OrderedDict</span> <span class="o">=</span> <span class="n">_import_OrderedDict</span><span class="p">()</span>


<span class="n">_default_decoder</span> <span class="o">=</span> <span class="n">HjsonDecoder</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                               <span class="n">object_pairs_hook</span><span class="o">=</span><span class="n">OrderedDict</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_pairs_hook</span><span class="o">=</span><span class="n">OrderedDict</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deserialize ``fp`` (a ``.read()``-supporting file-like object containing</span>
<span class="sd">    a JSON document) to a Python object.</span>

<span class="sd">    *encoding* determines the encoding used to interpret any</span>
<span class="sd">    :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">    default).  It has no effect when decoding :class:`unicode` objects.</span>

<span class="sd">    Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">    strings of other encodings should be passed in as :class:`unicode`.</span>

<span class="sd">    *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">    JSON object decoded and its return value will be used in place of the</span>
<span class="sd">    given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">    deserializations (e.g. to support JSON-RPC class hinting).</span>

<span class="sd">    *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">    the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">    The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">    :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">    that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">    example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">    insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">    takes priority.</span>

<span class="sd">    *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">    JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">    for JSON floats (e.g. :class:`decimal.Decimal`).</span>

<span class="sd">    *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">    JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">    for JSON integers (e.g. :class:`float`).</span>

<span class="sd">    If *use_decimal* is true (default: ``False``) then it implies</span>
<span class="sd">    parse_float=decimal.Decimal for parity with ``dump``.</span>

<span class="sd">    To use a custom ``HjsonDecoder`` subclass, specify it with the ``cls``</span>
<span class="sd">    kwarg. NOTE: You should use *object_hook* or *object_pairs_hook* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="n">cls</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="n">object_hook</span><span class="p">,</span>
        <span class="n">parse_float</span><span class="o">=</span><span class="n">parse_float</span><span class="p">,</span> <span class="n">parse_int</span><span class="o">=</span><span class="n">parse_int</span><span class="p">,</span>
        <span class="n">object_pairs_hook</span><span class="o">=</span><span class="n">object_pairs_hook</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_pairs_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deserialize ``s`` (a ``str`` or ``unicode`` instance containing a JSON</span>
<span class="sd">    document) to a Python object.</span>

<span class="sd">    *encoding* determines the encoding used to interpret any</span>
<span class="sd">    :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">    default).  It has no effect when decoding :class:`unicode` objects.</span>

<span class="sd">    Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">    strings of other encodings should be passed in as :class:`unicode`.</span>

<span class="sd">    *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">    JSON object decoded and its return value will be used in place of the</span>
<span class="sd">    given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">    deserializations (e.g. to support JSON-RPC class hinting).</span>

<span class="sd">    *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">    the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">    The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">    :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">    that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">    example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">    insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">    takes priority.</span>

<span class="sd">    *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">    JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">    for JSON floats (e.g. :class:`decimal.Decimal`).</span>

<span class="sd">    *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">    JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">    for JSON integers (e.g. :class:`float`).</span>

<span class="sd">    If *use_decimal* is true (default: ``False``) then it implies</span>
<span class="sd">    parse_float=decimal.Decimal for parity with ``dump``.</span>

<span class="sd">    To use a custom ``HjsonDecoder`` subclass, specify it with the ``cls``</span>
<span class="sd">    kwarg. NOTE: You should use *object_hook* or *object_pairs_hook* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">object_hook</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
            <span class="n">parse_int</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
            <span class="n">object_pairs_hook</span> <span class="ow">is</span> <span class="bp">None</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">use_decimal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_decoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonDecoder</span>
    <span class="k">if</span> <span class="n">object_hook</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;object_hook&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_hook</span>
    <span class="k">if</span> <span class="n">object_pairs_hook</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;object_pairs_hook&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_pairs_hook</span>
    <span class="k">if</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_float</span>
    <span class="k">if</span> <span class="n">parse_int</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_int&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_int</span>
    <span class="k">if</span> <span class="n">use_decimal</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;use_decimal=True implies parse_float=Decimal&quot;</span><span class="p">)</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>


<span class="n">_default_hjson_encoder</span> <span class="o">=</span> <span class="n">HjsonEncoder</span><span class="p">(</span>
    <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` as a JSON formatted stream to ``fp`` (a</span>
<span class="sd">    ``.write()``-supporting file-like object).</span>

<span class="sd">    If *skipkeys* is true then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If *ensure_ascii* is false, then the some chunks written to ``fp``</span>
<span class="sd">    may be ``unicode`` instances, subject to normal Python ``str`` to</span>
<span class="sd">    ``unicode`` coercion rules. Unless ``fp.write()`` explicitly</span>
<span class="sd">    understands ``unicode`` (as in ``codecs.getwriter()``) this is likely</span>
<span class="sd">    to cause an error.</span>

<span class="sd">    If *check_circular* is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If *indent* is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. For backwards compatibility with</span>
<span class="sd">    versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    *encoding* is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    *default(obj)* is a function that should return a serializable version</span>
<span class="sd">    of obj or raise ``TypeError``. The default simply raises ``TypeError``.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (default: ``False``), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise. Note that this is still a</span>
<span class="sd">    lossy operation that will not round-trip correctly and should be used</span>
<span class="sd">    sparingly.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precedence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``HjsonEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* or *for_json* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">_default_hjson_encoder</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonEncoder</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
            <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
            <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
            <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
            <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
            <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="c"># could accelerate with writelines in some versions of Python, at</span>
    <span class="c"># a debuggability cost</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` to a JSON formatted ``str``.</span>

<span class="sd">    If ``skipkeys`` is false then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If ``ensure_ascii`` is false, then the return value will be a</span>
<span class="sd">    ``unicode`` instance subject to normal Python ``str`` to ``unicode``</span>
<span class="sd">    coercion rules instead of being escaped to an ASCII ``str``.</span>

<span class="sd">    If ``check_circular`` is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If ``indent`` is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. For backwards compatibility with</span>
<span class="sd">    versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    ``encoding`` is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    ``default(obj)`` is a function that should return a serializable version</span>
<span class="sd">    of obj or raise TypeError. The default simply raises TypeError.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precendence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``HjsonEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* instead of subclassing</span>
<span class="sd">    whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_hjson_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonEncoder</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span>
        <span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
        <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
        <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
        <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
        <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>



<span class="n">_default_json_encoder</span> <span class="o">=</span> <span class="n">JSONEncoder</span><span class="p">(</span>
    <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">dumpJSON</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` as a JSON formatted stream to ``fp`` (a</span>
<span class="sd">    ``.write()``-supporting file-like object).</span>

<span class="sd">    If *skipkeys* is true then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If *ensure_ascii* is false, then the some chunks written to ``fp``</span>
<span class="sd">    may be ``unicode`` instances, subject to normal Python ``str`` to</span>
<span class="sd">    ``unicode`` coercion rules. Unless ``fp.write()`` explicitly</span>
<span class="sd">    understands ``unicode`` (as in ``codecs.getwriter()``) this is likely</span>
<span class="sd">    to cause an error.</span>

<span class="sd">    If *check_circular* is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If *indent* is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. An integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    If specified, *separators* should be an</span>
<span class="sd">    ``(item_separator, key_separator)`` tuple.  The default is ``(&#39;, &#39;, &#39;: &#39;)``</span>
<span class="sd">    if *indent* is ``None`` and ``(&#39;,&#39;, &#39;: &#39;)`` otherwise.  To get the most</span>
<span class="sd">    compact JSON representation, you should specify ``(&#39;,&#39;, &#39;:&#39;)`` to eliminate</span>
<span class="sd">    whitespace.</span>

<span class="sd">    *encoding* is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    *default(obj)* is a function that should return a serializable version</span>
<span class="sd">    of obj or raise ``TypeError``. The default simply raises ``TypeError``.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (default: ``False``), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise. Note that this is still a</span>
<span class="sd">    lossy operation that will not round-trip correctly and should be used</span>
<span class="sd">    sparingly.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precedence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* or *for_json* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">separators</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">_default_json_encoder</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">cls</span> <span class="o">=</span> <span class="n">JSONEncoder</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
            <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
            <span class="n">separators</span><span class="o">=</span><span class="n">separators</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
            <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
            <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
            <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="c"># could accelerate with writelines in some versions of Python, at</span>
    <span class="c"># a debuggability cost</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">dumpsJSON</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` to a JSON formatted ``str``.</span>

<span class="sd">    If ``skipkeys`` is false then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If ``ensure_ascii`` is false, then the return value will be a</span>
<span class="sd">    ``unicode`` instance subject to normal Python ``str`` to ``unicode``</span>
<span class="sd">    coercion rules instead of being escaped to an ASCII ``str``.</span>

<span class="sd">    If ``check_circular`` is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If ``indent`` is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. An integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    If specified, ``separators`` should be an</span>
<span class="sd">    ``(item_separator, key_separator)`` tuple.  The default is ``(&#39;, &#39;, &#39;: &#39;)``</span>
<span class="sd">    if *indent* is ``None`` and ``(&#39;,&#39;, &#39;: &#39;)`` otherwise.  To get the most</span>
<span class="sd">    compact JSON representation, you should specify ``(&#39;,&#39;, &#39;:&#39;)`` to eliminate</span>
<span class="sd">    whitespace.</span>

<span class="sd">    ``encoding`` is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    ``default(obj)`` is a function that should return a serializable version</span>
<span class="sd">    of obj or raise TypeError. The default simply raises TypeError.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precendence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* instead of subclassing</span>
<span class="sd">    whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">separators</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_json_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">JSONEncoder</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span>
        <span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
        <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
        <span class="n">separators</span><span class="o">=</span><span class="n">separators</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
        <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
        <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
        <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>



<span class="k">def</span> <span class="nf">simple_first</span><span class="p">(</span><span class="n">kv</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper function to pass to item_sort_key to sort simple</span>
<span class="sd">    elements to the top, then container elements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">kv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)),</span> <span class="n">kv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="hjson.dump">
    <p>def <span class="ident">dump</span>(</p><p>obj, fp, skipkeys=False, ensure_ascii=True, check_circular=True, cls=None, indent=None, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, sort_keys=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Serialize <code>obj</code> as a JSON formatted stream to <code>fp</code> (a
<code>.write()</code>-supporting file-like object).</p>
<p>If <em>skipkeys</em> is true then <code>dict</code> keys that are not basic types
(<code>str</code>, <code>unicode</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>None</code>)
will be skipped instead of raising a <code>TypeError</code>.</p>
<p>If <em>ensure_ascii</em> is false, then the some chunks written to <code>fp</code>
may be <code>unicode</code> instances, subject to normal Python <code>str</code> to
<code>unicode</code> coercion rules. Unless <code>fp.write()</code> explicitly
understands <code>unicode</code> (as in <code>codecs.getwriter()</code>) this is likely
to cause an error.</p>
<p>If <em>check_circular</em> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code>OverflowError</code> (or worse).</p>
<p>If <em>indent</em> is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting. <code>None</code> (the default) selects the most compact
representation without any newlines. For backwards compatibility with
versions of hjson earlier than 2.1.0, an integer is also accepted
and is converted to a string with that many spaces.</p>
<p><em>encoding</em> is the character encoding for str instances, default is UTF-8.</p>
<p><em>default(obj)</em> is a function that should return a serializable version
of obj or raise <code>TypeError</code>. The default simply raises <code>TypeError</code>.</p>
<p>If <em>use_decimal</em> is true (default: <code>True</code>) then decimal.Decimal
will be natively serialized to JSON with full precision.</p>
<p>If <em>namedtuple_as_object</em> is true (default: <code>True</code>),
:class:<code>tuple</code> subclasses with <code>_asdict()</code> methods will be encoded
as JSON objects.</p>
<p>If <em>tuple_as_array</em> is true (default: <code>True</code>),
:class:<code>tuple</code> (and subclasses) will be encoded as JSON arrays.</p>
<p>If <em>bigint_as_string</em> is true (default: <code>False</code>), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise. Note that this is still a
lossy operation that will not round-trip correctly and should be used
sparingly.</p>
<p>If <em>int_as_string_bitcount</em> is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, <em>item_sort_key</em> is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key. This option takes precedence over
<em>sort_keys</em>.</p>
<p>If <em>sort_keys</em> is true (default: <code>False</code>), the output of dictionaries
will be sorted by item.</p>
<p>If <em>for_json</em> is true (default: <code>False</code>), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p>
<p>To use a custom <code>HjsonEncoder</code> subclass (e.g. one that overrides the
<code>.default()</code> method to serialize additional types), specify it with
the <code>cls</code> kwarg. NOTE: You should use <em>default</em> or <em>for_json</em> instead
of subclassing whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.dump', this);">Show source &equiv;</a></p>
  <div id="source-hjson.dump" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` as a JSON formatted stream to ``fp`` (a</span>
<span class="sd">    ``.write()``-supporting file-like object).</span>

<span class="sd">    If *skipkeys* is true then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If *ensure_ascii* is false, then the some chunks written to ``fp``</span>
<span class="sd">    may be ``unicode`` instances, subject to normal Python ``str`` to</span>
<span class="sd">    ``unicode`` coercion rules. Unless ``fp.write()`` explicitly</span>
<span class="sd">    understands ``unicode`` (as in ``codecs.getwriter()``) this is likely</span>
<span class="sd">    to cause an error.</span>

<span class="sd">    If *check_circular* is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If *indent* is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. For backwards compatibility with</span>
<span class="sd">    versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    *encoding* is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    *default(obj)* is a function that should return a serializable version</span>
<span class="sd">    of obj or raise ``TypeError``. The default simply raises ``TypeError``.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (default: ``False``), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise. Note that this is still a</span>
<span class="sd">    lossy operation that will not round-trip correctly and should be used</span>
<span class="sd">    sparingly.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precedence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``HjsonEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* or *for_json* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">_default_hjson_encoder</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonEncoder</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
            <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
            <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
            <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
            <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
            <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="c"># could accelerate with writelines in some versions of Python, at</span>
    <span class="c"># a debuggability cost</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.dumpJSON">
    <p>def <span class="ident">dumpJSON</span>(</p><p>obj, fp, skipkeys=False, ensure_ascii=True, check_circular=True, cls=None, indent=None, separators=None, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, sort_keys=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Serialize <code>obj</code> as a JSON formatted stream to <code>fp</code> (a
<code>.write()</code>-supporting file-like object).</p>
<p>If <em>skipkeys</em> is true then <code>dict</code> keys that are not basic types
(<code>str</code>, <code>unicode</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>None</code>)
will be skipped instead of raising a <code>TypeError</code>.</p>
<p>If <em>ensure_ascii</em> is false, then the some chunks written to <code>fp</code>
may be <code>unicode</code> instances, subject to normal Python <code>str</code> to
<code>unicode</code> coercion rules. Unless <code>fp.write()</code> explicitly
understands <code>unicode</code> (as in <code>codecs.getwriter()</code>) this is likely
to cause an error.</p>
<p>If <em>check_circular</em> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code>OverflowError</code> (or worse).</p>
<p>If <em>indent</em> is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting. <code>None</code> (the default) selects the most compact
representation without any newlines. An integer is also accepted
and is converted to a string with that many spaces.</p>
<p>If specified, <em>separators</em> should be an
<code>(item_separator, key_separator)</code> tuple.  The default is <code>(', ', ': ')</code>
if <em>indent</em> is <code>None</code> and <code>(',', ': ')</code> otherwise.  To get the most
compact JSON representation, you should specify <code>(',', ':')</code> to eliminate
whitespace.</p>
<p><em>encoding</em> is the character encoding for str instances, default is UTF-8.</p>
<p><em>default(obj)</em> is a function that should return a serializable version
of obj or raise <code>TypeError</code>. The default simply raises <code>TypeError</code>.</p>
<p>If <em>use_decimal</em> is true (default: <code>True</code>) then decimal.Decimal
will be natively serialized to JSON with full precision.</p>
<p>If <em>namedtuple_as_object</em> is true (default: <code>True</code>),
:class:<code>tuple</code> subclasses with <code>_asdict()</code> methods will be encoded
as JSON objects.</p>
<p>If <em>tuple_as_array</em> is true (default: <code>True</code>),
:class:<code>tuple</code> (and subclasses) will be encoded as JSON arrays.</p>
<p>If <em>bigint_as_string</em> is true (default: <code>False</code>), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise. Note that this is still a
lossy operation that will not round-trip correctly and should be used
sparingly.</p>
<p>If <em>int_as_string_bitcount</em> is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, <em>item_sort_key</em> is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key. This option takes precedence over
<em>sort_keys</em>.</p>
<p>If <em>sort_keys</em> is true (default: <code>False</code>), the output of dictionaries
will be sorted by item.</p>
<p>If <em>for_json</em> is true (default: <code>False</code>), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p>
<p>To use a custom <code>JSONEncoder</code> subclass (e.g. one that overrides the
<code>.default()</code> method to serialize additional types), specify it with
the <code>cls</code> kwarg. NOTE: You should use <em>default</em> or <em>for_json</em> instead
of subclassing whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.dumpJSON', this);">Show source &equiv;</a></p>
  <div id="source-hjson.dumpJSON" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">dumpJSON</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` as a JSON formatted stream to ``fp`` (a</span>
<span class="sd">    ``.write()``-supporting file-like object).</span>

<span class="sd">    If *skipkeys* is true then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If *ensure_ascii* is false, then the some chunks written to ``fp``</span>
<span class="sd">    may be ``unicode`` instances, subject to normal Python ``str`` to</span>
<span class="sd">    ``unicode`` coercion rules. Unless ``fp.write()`` explicitly</span>
<span class="sd">    understands ``unicode`` (as in ``codecs.getwriter()``) this is likely</span>
<span class="sd">    to cause an error.</span>

<span class="sd">    If *check_circular* is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If *indent* is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. An integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    If specified, *separators* should be an</span>
<span class="sd">    ``(item_separator, key_separator)`` tuple.  The default is ``(&#39;, &#39;, &#39;: &#39;)``</span>
<span class="sd">    if *indent* is ``None`` and ``(&#39;,&#39;, &#39;: &#39;)`` otherwise.  To get the most</span>
<span class="sd">    compact JSON representation, you should specify ``(&#39;,&#39;, &#39;:&#39;)`` to eliminate</span>
<span class="sd">    whitespace.</span>

<span class="sd">    *encoding* is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    *default(obj)* is a function that should return a serializable version</span>
<span class="sd">    of obj or raise ``TypeError``. The default simply raises ``TypeError``.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (default: ``False``), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise. Note that this is still a</span>
<span class="sd">    lossy operation that will not round-trip correctly and should be used</span>
<span class="sd">    sparingly.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precedence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* or *for_json* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">separators</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">_default_json_encoder</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">cls</span> <span class="o">=</span> <span class="n">JSONEncoder</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
            <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
            <span class="n">separators</span><span class="o">=</span><span class="n">separators</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
            <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
            <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
            <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="c"># could accelerate with writelines in some versions of Python, at</span>
    <span class="c"># a debuggability cost</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.dumps">
    <p>def <span class="ident">dumps</span>(</p><p>obj, skipkeys=False, ensure_ascii=True, check_circular=True, cls=None, indent=None, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, sort_keys=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Serialize <code>obj</code> to a JSON formatted <code>str</code>.</p>
<p>If <code>skipkeys</code> is false then <code>dict</code> keys that are not basic types
(<code>str</code>, <code>unicode</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>None</code>)
will be skipped instead of raising a <code>TypeError</code>.</p>
<p>If <code>ensure_ascii</code> is false, then the return value will be a
<code>unicode</code> instance subject to normal Python <code>str</code> to <code>unicode</code>
coercion rules instead of being escaped to an ASCII <code>str</code>.</p>
<p>If <code>check_circular</code> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code>OverflowError</code> (or worse).</p>
<p>If <code>indent</code> is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting. <code>None</code> (the default) selects the most compact
representation without any newlines. For backwards compatibility with
versions of hjson earlier than 2.1.0, an integer is also accepted
and is converted to a string with that many spaces.</p>
<p><code>encoding</code> is the character encoding for str instances, default is UTF-8.</p>
<p><code>default(obj)</code> is a function that should return a serializable version
of obj or raise TypeError. The default simply raises TypeError.</p>
<p>If <em>use_decimal</em> is true (default: <code>True</code>) then decimal.Decimal
will be natively serialized to JSON with full precision.</p>
<p>If <em>namedtuple_as_object</em> is true (default: <code>True</code>),
:class:<code>tuple</code> subclasses with <code>_asdict()</code> methods will be encoded
as JSON objects.</p>
<p>If <em>tuple_as_array</em> is true (default: <code>True</code>),
:class:<code>tuple</code> (and subclasses) will be encoded as JSON arrays.</p>
<p>If <em>bigint_as_string</em> is true (not the default), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise.</p>
<p>If <em>int_as_string_bitcount</em> is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, <em>item_sort_key</em> is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key. This option takes precendence over
<em>sort_keys</em>.</p>
<p>If <em>sort_keys</em> is true (default: <code>False</code>), the output of dictionaries
will be sorted by item.</p>
<p>If <em>for_json</em> is true (default: <code>False</code>), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p>
<p>To use a custom <code>HjsonEncoder</code> subclass (e.g. one that overrides the
<code>.default()</code> method to serialize additional types), specify it with
the <code>cls</code> kwarg. NOTE: You should use <em>default</em> instead of subclassing
whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.dumps', this);">Show source &equiv;</a></p>
  <div id="source-hjson.dumps" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` to a JSON formatted ``str``.</span>

<span class="sd">    If ``skipkeys`` is false then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If ``ensure_ascii`` is false, then the return value will be a</span>
<span class="sd">    ``unicode`` instance subject to normal Python ``str`` to ``unicode``</span>
<span class="sd">    coercion rules instead of being escaped to an ASCII ``str``.</span>

<span class="sd">    If ``check_circular`` is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If ``indent`` is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. For backwards compatibility with</span>
<span class="sd">    versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    ``encoding`` is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    ``default(obj)`` is a function that should return a serializable version</span>
<span class="sd">    of obj or raise TypeError. The default simply raises TypeError.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precendence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``HjsonEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* instead of subclassing</span>
<span class="sd">    whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_hjson_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonEncoder</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span>
        <span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
        <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
        <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
        <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
        <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.dumpsJSON">
    <p>def <span class="ident">dumpsJSON</span>(</p><p>obj, skipkeys=False, ensure_ascii=True, check_circular=True, cls=None, indent=None, separators=None, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, sort_keys=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Serialize <code>obj</code> to a JSON formatted <code>str</code>.</p>
<p>If <code>skipkeys</code> is false then <code>dict</code> keys that are not basic types
(<code>str</code>, <code>unicode</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>bool</code>, <code>None</code>)
will be skipped instead of raising a <code>TypeError</code>.</p>
<p>If <code>ensure_ascii</code> is false, then the return value will be a
<code>unicode</code> instance subject to normal Python <code>str</code> to <code>unicode</code>
coercion rules instead of being escaped to an ASCII <code>str</code>.</p>
<p>If <code>check_circular</code> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code>OverflowError</code> (or worse).</p>
<p>If <code>indent</code> is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting. <code>None</code> (the default) selects the most compact
representation without any newlines. An integer is also accepted
and is converted to a string with that many spaces.</p>
<p>If specified, <code>separators</code> should be an
<code>(item_separator, key_separator)</code> tuple.  The default is <code>(', ', ': ')</code>
if <em>indent</em> is <code>None</code> and <code>(',', ': ')</code> otherwise.  To get the most
compact JSON representation, you should specify <code>(',', ':')</code> to eliminate
whitespace.</p>
<p><code>encoding</code> is the character encoding for str instances, default is UTF-8.</p>
<p><code>default(obj)</code> is a function that should return a serializable version
of obj or raise TypeError. The default simply raises TypeError.</p>
<p>If <em>use_decimal</em> is true (default: <code>True</code>) then decimal.Decimal
will be natively serialized to JSON with full precision.</p>
<p>If <em>namedtuple_as_object</em> is true (default: <code>True</code>),
:class:<code>tuple</code> subclasses with <code>_asdict()</code> methods will be encoded
as JSON objects.</p>
<p>If <em>tuple_as_array</em> is true (default: <code>True</code>),
:class:<code>tuple</code> (and subclasses) will be encoded as JSON arrays.</p>
<p>If <em>bigint_as_string</em> is true (not the default), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise.</p>
<p>If <em>int_as_string_bitcount</em> is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, <em>item_sort_key</em> is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key. This option takes precendence over
<em>sort_keys</em>.</p>
<p>If <em>sort_keys</em> is true (default: <code>False</code>), the output of dictionaries
will be sorted by item.</p>
<p>If <em>for_json</em> is true (default: <code>False</code>), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p>
<p>To use a custom <code>JSONEncoder</code> subclass (e.g. one that overrides the
<code>.default()</code> method to serialize additional types), specify it with
the <code>cls</code> kwarg. NOTE: You should use <em>default</em> instead of subclassing
whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.dumpsJSON', this);">Show source &equiv;</a></p>
  <div id="source-hjson.dumpsJSON" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">dumpsJSON</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
          <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Serialize ``obj`` to a JSON formatted ``str``.</span>

<span class="sd">    If ``skipkeys`` is false then ``dict`` keys that are not basic types</span>
<span class="sd">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``None``)</span>
<span class="sd">    will be skipped instead of raising a ``TypeError``.</span>

<span class="sd">    If ``ensure_ascii`` is false, then the return value will be a</span>
<span class="sd">    ``unicode`` instance subject to normal Python ``str`` to ``unicode``</span>
<span class="sd">    coercion rules instead of being escaped to an ASCII ``str``.</span>

<span class="sd">    If ``check_circular`` is false, then the circular reference check</span>
<span class="sd">    for container types will be skipped and a circular reference will</span>
<span class="sd">    result in an ``OverflowError`` (or worse).</span>

<span class="sd">    If ``indent`` is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. An integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>

<span class="sd">    If specified, ``separators`` should be an</span>
<span class="sd">    ``(item_separator, key_separator)`` tuple.  The default is ``(&#39;, &#39;, &#39;: &#39;)``</span>
<span class="sd">    if *indent* is ``None`` and ``(&#39;,&#39;, &#39;: &#39;)`` otherwise.  To get the most</span>
<span class="sd">    compact JSON representation, you should specify ``(&#39;,&#39;, &#39;:&#39;)`` to eliminate</span>
<span class="sd">    whitespace.</span>

<span class="sd">    ``encoding`` is the character encoding for str instances, default is UTF-8.</span>

<span class="sd">    ``default(obj)`` is a function that should return a serializable version</span>
<span class="sd">    of obj or raise TypeError. The default simply raises TypeError.</span>

<span class="sd">    If *use_decimal* is true (default: ``True``) then decimal.Decimal</span>
<span class="sd">    will be natively serialized to JSON with full precision.</span>

<span class="sd">    If *namedtuple_as_object* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` subclasses with ``_asdict()`` methods will be encoded</span>
<span class="sd">    as JSON objects.</span>

<span class="sd">    If *tuple_as_array* is true (default: ``True``),</span>
<span class="sd">    :class:`tuple` (and subclasses) will be encoded as JSON arrays.</span>

<span class="sd">    If *bigint_as_string* is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>

<span class="sd">    If *int_as_string_bitcount* is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>

<span class="sd">    If specified, *item_sort_key* is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key. This option takes precendence over</span>
<span class="sd">    *sort_keys*.</span>

<span class="sd">    If *sort_keys* is true (default: ``False``), the output of dictionaries</span>
<span class="sd">    will be sorted by item.</span>

<span class="sd">    If *for_json* is true (default: ``False``), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>

<span class="sd">    To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the</span>
<span class="sd">    ``.default()`` method to serialize additional types), specify it with</span>
<span class="sd">    the ``cls`` kwarg. NOTE: You should use *default* instead of subclassing</span>
<span class="sd">    whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># cached encoder</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="n">skipkeys</span> <span class="ow">and</span> <span class="n">ensure_ascii</span> <span class="ow">and</span>
        <span class="n">check_circular</span> <span class="ow">and</span>
        <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">separators</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
        <span class="n">encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span> <span class="ow">and</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">use_decimal</span>
        <span class="ow">and</span> <span class="n">namedtuple_as_object</span> <span class="ow">and</span> <span class="n">tuple_as_array</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">bigint_as_string</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">sort_keys</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">item_sort_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">for_json</span>
        <span class="ow">and</span> <span class="n">int_as_string_bitcount</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_json_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">JSONEncoder</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span>
        <span class="n">skipkeys</span><span class="o">=</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="n">ensure_ascii</span><span class="p">,</span>
        <span class="n">check_circular</span><span class="o">=</span><span class="n">check_circular</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">,</span>
        <span class="n">separators</span><span class="o">=</span><span class="n">separators</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="n">namedtuple_as_object</span><span class="p">,</span>
        <span class="n">tuple_as_array</span><span class="o">=</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">bigint_as_string</span><span class="o">=</span><span class="n">bigint_as_string</span><span class="p">,</span>
        <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="n">item_sort_key</span><span class="o">=</span><span class="n">item_sort_key</span><span class="p">,</span>
        <span class="n">for_json</span><span class="o">=</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.load">
    <p>def <span class="ident">load</span>(</p><p>fp, encoding=None, cls=None, object_hook=None, parse_float=None, parse_int=None, object_pairs_hook=&lt;class &#39;collections.OrderedDict&#39;&gt;, use_decimal=False, namedtuple_as_object=True, tuple_as_array=True, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Deserialize <code>fp</code> (a <code>.read()</code>-supporting file-like object containing
a JSON document) to a Python object.</p>
<p><em>encoding</em> determines the encoding used to interpret any
:class:<code>str</code> objects decoded by this instance (<code>'utf-8'</code> by
default).  It has no effect when decoding :class:<code>unicode</code> objects.</p>
<p>Note that currently only encodings that are a superset of ASCII work,
strings of other encodings should be passed in as :class:<code>unicode</code>.</p>
<p><em>object_hook</em>, if specified, will be called with the result of every
JSON object decoded and its return value will be used in place of the
given :class:<code>dict</code>.  This can be used to provide custom
deserializations (e.g. to support JSON-RPC class hinting).</p>
<p><em>object_pairs_hook</em> is an optional function that will be called with
the result of any object literal decode with an ordered list of pairs.
The return value of <em>object_pairs_hook</em> will be used instead of the
:class:<code>dict</code>.  This feature can be used to implement custom decoders
that rely on the order that the key and value pairs are decoded (for
example, :func:<code>collections.OrderedDict</code> will remember the order of
insertion). If <em>object_hook</em> is also defined, the <em>object_pairs_hook</em>
takes priority.</p>
<p><em>parse_float</em>, if specified, will be called with the string of every
JSON float to be decoded.  By default, this is equivalent to
<code>float(num_str)</code>. This can be used to use another datatype or parser
for JSON floats (e.g. :class:<code>decimal.Decimal</code>).</p>
<p><em>parse_int</em>, if specified, will be called with the string of every
JSON int to be decoded.  By default, this is equivalent to
<code>int(num_str)</code>.  This can be used to use another datatype or parser
for JSON integers (e.g. :class:<code>float</code>).</p>
<p>If <em>use_decimal</em> is true (default: <code>False</code>) then it implies
parse_float=decimal.Decimal for parity with <code>dump</code>.</p>
<p>To use a custom <code>HjsonDecoder</code> subclass, specify it with the <code>cls</code>
kwarg. NOTE: You should use <em>object_hook</em> or <em>object_pairs_hook</em> instead
of subclassing whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.load', this);">Show source &equiv;</a></p>
  <div id="source-hjson.load" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_pairs_hook</span><span class="o">=</span><span class="n">OrderedDict</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deserialize ``fp`` (a ``.read()``-supporting file-like object containing</span>
<span class="sd">    a JSON document) to a Python object.</span>

<span class="sd">    *encoding* determines the encoding used to interpret any</span>
<span class="sd">    :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">    default).  It has no effect when decoding :class:`unicode` objects.</span>

<span class="sd">    Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">    strings of other encodings should be passed in as :class:`unicode`.</span>

<span class="sd">    *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">    JSON object decoded and its return value will be used in place of the</span>
<span class="sd">    given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">    deserializations (e.g. to support JSON-RPC class hinting).</span>

<span class="sd">    *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">    the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">    The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">    :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">    that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">    example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">    insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">    takes priority.</span>

<span class="sd">    *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">    JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">    for JSON floats (e.g. :class:`decimal.Decimal`).</span>

<span class="sd">    *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">    JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">    for JSON integers (e.g. :class:`float`).</span>

<span class="sd">    If *use_decimal* is true (default: ``False``) then it implies</span>
<span class="sd">    parse_float=decimal.Decimal for parity with ``dump``.</span>

<span class="sd">    To use a custom ``HjsonDecoder`` subclass, specify it with the ``cls``</span>
<span class="sd">    kwarg. NOTE: You should use *object_hook* or *object_pairs_hook* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
        <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="n">cls</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="n">object_hook</span><span class="p">,</span>
        <span class="n">parse_float</span><span class="o">=</span><span class="n">parse_float</span><span class="p">,</span> <span class="n">parse_int</span><span class="o">=</span><span class="n">parse_int</span><span class="p">,</span>
        <span class="n">object_pairs_hook</span><span class="o">=</span><span class="n">object_pairs_hook</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="n">use_decimal</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.loads">
    <p>def <span class="ident">loads</span>(</p><p>s, encoding=None, cls=None, object_hook=None, parse_float=None, parse_int=None, object_pairs_hook=None, use_decimal=False, **kw)</p>
    </div>
    

    
  
    <div class="desc"><p>Deserialize <code>s</code> (a <code>str</code> or <code>unicode</code> instance containing a JSON
document) to a Python object.</p>
<p><em>encoding</em> determines the encoding used to interpret any
:class:<code>str</code> objects decoded by this instance (<code>'utf-8'</code> by
default).  It has no effect when decoding :class:<code>unicode</code> objects.</p>
<p>Note that currently only encodings that are a superset of ASCII work,
strings of other encodings should be passed in as :class:<code>unicode</code>.</p>
<p><em>object_hook</em>, if specified, will be called with the result of every
JSON object decoded and its return value will be used in place of the
given :class:<code>dict</code>.  This can be used to provide custom
deserializations (e.g. to support JSON-RPC class hinting).</p>
<p><em>object_pairs_hook</em> is an optional function that will be called with
the result of any object literal decode with an ordered list of pairs.
The return value of <em>object_pairs_hook</em> will be used instead of the
:class:<code>dict</code>.  This feature can be used to implement custom decoders
that rely on the order that the key and value pairs are decoded (for
example, :func:<code>collections.OrderedDict</code> will remember the order of
insertion). If <em>object_hook</em> is also defined, the <em>object_pairs_hook</em>
takes priority.</p>
<p><em>parse_float</em>, if specified, will be called with the string of every
JSON float to be decoded.  By default, this is equivalent to
<code>float(num_str)</code>. This can be used to use another datatype or parser
for JSON floats (e.g. :class:<code>decimal.Decimal</code>).</p>
<p><em>parse_int</em>, if specified, will be called with the string of every
JSON int to be decoded.  By default, this is equivalent to
<code>int(num_str)</code>.  This can be used to use another datatype or parser
for JSON integers (e.g. :class:<code>float</code>).</p>
<p>If <em>use_decimal</em> is true (default: <code>False</code>) then it implies
parse_float=decimal.Decimal for parity with <code>dump</code>.</p>
<p>To use a custom <code>HjsonDecoder</code> subclass, specify it with the <code>cls</code>
kwarg. NOTE: You should use <em>object_hook</em> or <em>object_pairs_hook</em> instead
of subclassing whenever possible.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.loads', this);">Show source &equiv;</a></p>
  <div id="source-hjson.loads" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_pairs_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">use_decimal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deserialize ``s`` (a ``str`` or ``unicode`` instance containing a JSON</span>
<span class="sd">    document) to a Python object.</span>

<span class="sd">    *encoding* determines the encoding used to interpret any</span>
<span class="sd">    :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">    default).  It has no effect when decoding :class:`unicode` objects.</span>

<span class="sd">    Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">    strings of other encodings should be passed in as :class:`unicode`.</span>

<span class="sd">    *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">    JSON object decoded and its return value will be used in place of the</span>
<span class="sd">    given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">    deserializations (e.g. to support JSON-RPC class hinting).</span>

<span class="sd">    *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">    the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">    The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">    :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">    that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">    example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">    insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">    takes priority.</span>

<span class="sd">    *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">    JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">    for JSON floats (e.g. :class:`decimal.Decimal`).</span>

<span class="sd">    *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">    JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">    for JSON integers (e.g. :class:`float`).</span>

<span class="sd">    If *use_decimal* is true (default: ``False``) then it implies</span>
<span class="sd">    parse_float=decimal.Decimal for parity with ``dump``.</span>

<span class="sd">    To use a custom ``HjsonDecoder`` subclass, specify it with the ``cls``</span>
<span class="sd">    kwarg. NOTE: You should use *object_hook* or *object_pairs_hook* instead</span>
<span class="sd">    of subclassing whenever possible.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">object_hook</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
            <span class="n">parse_int</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>
            <span class="n">object_pairs_hook</span> <span class="ow">is</span> <span class="bp">None</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">use_decimal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_default_decoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cls</span> <span class="o">=</span> <span class="n">HjsonDecoder</span>
    <span class="k">if</span> <span class="n">object_hook</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;object_hook&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_hook</span>
    <span class="k">if</span> <span class="n">object_pairs_hook</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;object_pairs_hook&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_pairs_hook</span>
    <span class="k">if</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_float</span>
    <span class="k">if</span> <span class="n">parse_int</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_int&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_int</span>
    <span class="k">if</span> <span class="n">use_decimal</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parse_float</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;use_decimal=True implies parse_float=Decimal&quot;</span><span class="p">)</span>
        <span class="n">kw</span><span class="p">[</span><span class="s">&#39;parse_float&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Decimal</span>
    <span class="k">return</span> <span class="n">cls</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="hjson.simple_first">
    <p>def <span class="ident">simple_first</span>(</p><p>kv)</p>
    </div>
    

    
  
    <div class="desc"><p>Helper function to pass to item_sort_key to sort simple
elements to the top, then container elements.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.simple_first', this);">Show source &equiv;</a></p>
  <div id="source-hjson.simple_first" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">simple_first</span><span class="p">(</span><span class="n">kv</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper function to pass to item_sort_key to sort simple</span>
<span class="sd">    elements to the top, then container elements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">kv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)),</span> <span class="n">kv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="hjson.HjsonDecodeError" class="name">class <span class="ident">HjsonDecodeError</span></p>
      
  
    <div class="desc"><p>Subclass of ValueError with the following additional properties:</p>
<p>msg: The unformatted error message
doc: The JSON document being parsed
pos: The start index of doc where parsing failed
end: The end index of doc where parsing failed (may be None)
lineno: The line corresponding to pos
colno: The column corresponding to pos
endlineno: The line corresponding to end (may be None)
endcolno: The column corresponding to end (may be None)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecodeError', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecodeError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">HjsonDecodeError</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subclass of ValueError with the following additional properties:</span>

<span class="sd">    msg: The unformatted error message</span>
<span class="sd">    doc: The JSON document being parsed</span>
<span class="sd">    pos: The start index of doc where parsing failed</span>
<span class="sd">    end: The end index of doc where parsing failed (may be None)</span>
<span class="sd">    lineno: The line corresponding to pos</span>
<span class="sd">    colno: The column corresponding to pos</span>
<span class="sd">    endlineno: The line corresponding to end (may be None)</span>
<span class="sd">    endcolno: The column corresponding to end (may be None)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># Note that this exception is used from _speedups</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="ne">ValueError</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">errmsg</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colno</span> <span class="o">=</span> <span class="n">linecol</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endlineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endcolno</span> <span class="o">=</span> <span class="n">linecol</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endlineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endcolno</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__reduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#hjson.HjsonDecodeError">HjsonDecodeError</a></li>
          <li>builtins.ValueError</li>
          <li>builtins.Exception</li>
          <li>builtins.BaseException</li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="hjson.HjsonDecodeError.args" class="name">var <span class="ident">args</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.HjsonDecodeError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, msg, doc, pos, end=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecodeError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecodeError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="ne">ValueError</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">errmsg</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">colno</span> <span class="o">=</span> <span class="n">linecol</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endlineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endcolno</span> <span class="o">=</span> <span class="n">linecol</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endlineno</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endcolno</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="hjson.HjsonDecodeError.doc" class="name">var <span class="ident">doc</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecodeError.end" class="name">var <span class="ident">end</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecodeError.msg" class="name">var <span class="ident">msg</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecodeError.pos" class="name">var <span class="ident">pos</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="hjson.HjsonDecoder" class="name">class <span class="ident">HjsonDecoder</span></p>
      
  
    <div class="desc"><p>Hjson decoder</p>
<p>Performs the following translations in decoding by default:</p>
<p>+---------------+-------------------+
| JSON          | Python            |
+===============+===================+
| object        | dict              |
+---------------+-------------------+
| array         | list              |
+---------------+-------------------+
| string        | str, unicode      |
+---------------+-------------------+
| number (int)  | int, long         |
+---------------+-------------------+
| number (real) | float             |
+---------------+-------------------+
| true          | True              |
+---------------+-------------------+
| false         | False             |
+---------------+-------------------+
| null          | None              |
+---------------+-------------------+</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecoder', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecoder" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">HjsonDecoder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Hjson decoder</span>

<span class="sd">    Performs the following translations in decoding by default:</span>

<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | JSON          | Python            |</span>
<span class="sd">    +===============+===================+</span>
<span class="sd">    | object        | dict              |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | array         | list              |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | string        | str, unicode      |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | number (int)  | int, long         |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | number (real) | float             |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | true          | True              |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | false         | False             |</span>
<span class="sd">    +---------------+-------------------+</span>
<span class="sd">    | null          | None              |</span>
<span class="sd">    +---------------+-------------------+</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">object_pairs_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        *encoding* determines the encoding used to interpret any</span>
<span class="sd">        :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">        default).  It has no effect when decoding :class:`unicode` objects.</span>

<span class="sd">        Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">        strings of other encodings should be passed in as :class:`unicode`.</span>

<span class="sd">        *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">        JSON object decoded and its return value will be used in place of the</span>
<span class="sd">        given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">        deserializations (e.g. to support JSON-RPC class hinting).</span>

<span class="sd">        *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">        the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">        The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">        :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">        that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">        example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">        insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">        takes priority.</span>

<span class="sd">        *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">        JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">        ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">        for JSON floats (e.g. :class:`decimal.Decimal`).</span>

<span class="sd">        *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">        JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">        ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">        for JSON integers (e.g. :class:`float`).</span>

<span class="sd">        *strict* controls the parser&#39;s behavior when it encounters an</span>
<span class="sd">        invalid control character in a string. The default setting of</span>
<span class="sd">        ``True`` means that unescaped control characters are parse errors, if</span>
<span class="sd">        ``False`` then control characters will be allowed in strings.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">encoding</span> <span class="o">=</span> <span class="n">DEFAULT_ENCODING</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object_hook</span> <span class="o">=</span> <span class="n">object_hook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object_pairs_hook</span> <span class="o">=</span> <span class="n">object_pairs_hook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_float</span> <span class="o">=</span> <span class="n">parse_float</span> <span class="ow">or</span> <span class="nb">float</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_int</span> <span class="o">=</span> <span class="n">parse_int</span> <span class="ow">or</span> <span class="nb">int</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strict</span> <span class="o">=</span> <span class="n">strict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_object</span> <span class="o">=</span> <span class="n">JSONObject</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_array</span> <span class="o">=</span> <span class="n">JSONArray</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_string</span> <span class="o">=</span> <span class="n">scanstring</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_mlstring</span> <span class="o">=</span> <span class="n">mlscanstring</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_tfnns</span> <span class="o">=</span> <span class="n">scantfnns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_object_once</span><span class="p">)</span> <span class="o">=</span> <span class="n">make_scanner</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">_PY3</span><span class="o">=</span><span class="n">PY3</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Python representation of ``s`` (a ``str`` or ``unicode``</span>
<span class="sd">        instance containing a JSON document)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">_PY3</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
        <span class="n">obj</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">ch</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">getNext</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">end</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">HjsonDecodeError</span><span class="p">(</span><span class="s">&quot;Extra data&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">obj</span>

    <span class="k">def</span> <span class="nf">raw_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">_PY3</span><span class="o">=</span><span class="n">PY3</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Decode a JSON document from ``s`` (a ``str`` or ``unicode``</span>
<span class="sd">        beginning with a JSON document) and return a 2-tuple of the Python</span>
<span class="sd">        representation and the index in ``s`` where the document ended.</span>
<span class="sd">        Optionally, ``idx`` can be used to specify an offset in ``s`` where</span>
<span class="sd">        the JSON document begins.</span>

<span class="sd">        This can be used to decode a JSON document from a string that may</span>
<span class="sd">        have extraneous data at the end.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c"># Ensure that raw_decode bails on negative indexes, the regex</span>
            <span class="c"># would otherwise mask this behavior. #98</span>
            <span class="k">raise</span> <span class="n">HjsonDecodeError</span><span class="p">(</span><span class="s">&#39;Expecting value&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_PY3</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">text_type</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;Input string must be text, not bytes&quot;</span><span class="p">)</span>
        <span class="c"># strip UTF-8 bom</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">idx</span><span class="p">:</span>
            <span class="n">ord0</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">ord0</span> <span class="o">==</span> <span class="mh">0xfeff</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">ord0</span> <span class="o">==</span> <span class="mh">0xef</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;</span><span class="se">\xef\xbb\xbf</span><span class="s">&#39;</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">+=</span> <span class="mi">3</span>

        <span class="n">ch</span><span class="p">,</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">getNext</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="s">&#39;{&#39;</span> <span class="ow">or</span> <span class="n">ch</span> <span class="o">==</span> <span class="s">&#39;[&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># assume we have a root object without braces</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_object_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">HjsonDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c"># test if we are dealing with a single JSON value instead (true/false/null/num/&quot;&quot;)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">e</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#hjson.HjsonDecoder">HjsonDecoder</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.HjsonDecoder.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, encoding=None, object_hook=None, parse_float=None, parse_int=None, strict=True, object_pairs_hook=None)</p>
    </div>
    

    
  
    <div class="desc"><p><em>encoding</em> determines the encoding used to interpret any
:class:<code>str</code> objects decoded by this instance (<code>'utf-8'</code> by
default).  It has no effect when decoding :class:<code>unicode</code> objects.</p>
<p>Note that currently only encodings that are a superset of ASCII work,
strings of other encodings should be passed in as :class:<code>unicode</code>.</p>
<p><em>object_hook</em>, if specified, will be called with the result of every
JSON object decoded and its return value will be used in place of the
given :class:<code>dict</code>.  This can be used to provide custom
deserializations (e.g. to support JSON-RPC class hinting).</p>
<p><em>object_pairs_hook</em> is an optional function that will be called with
the result of any object literal decode with an ordered list of pairs.
The return value of <em>object_pairs_hook</em> will be used instead of the
:class:<code>dict</code>.  This feature can be used to implement custom decoders
that rely on the order that the key and value pairs are decoded (for
example, :func:<code>collections.OrderedDict</code> will remember the order of
insertion). If <em>object_hook</em> is also defined, the <em>object_pairs_hook</em>
takes priority.</p>
<p><em>parse_float</em>, if specified, will be called with the string of every
JSON float to be decoded.  By default, this is equivalent to
<code>float(num_str)</code>. This can be used to use another datatype or parser
for JSON floats (e.g. :class:<code>decimal.Decimal</code>).</p>
<p><em>parse_int</em>, if specified, will be called with the string of every
JSON int to be decoded.  By default, this is equivalent to
<code>int(num_str)</code>.  This can be used to use another datatype or parser
for JSON integers (e.g. :class:<code>float</code>).</p>
<p><em>strict</em> controls the parser's behavior when it encounters an
invalid control character in a string. The default setting of
<code>True</code> means that unescaped control characters are parse errors, if
<code>False</code> then control characters will be allowed in strings.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecoder.__init__', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecoder.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parse_float</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">parse_int</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">object_pairs_hook</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    *encoding* determines the encoding used to interpret any</span>
<span class="sd">    :class:`str` objects decoded by this instance (``&#39;utf-8&#39;`` by</span>
<span class="sd">    default).  It has no effect when decoding :class:`unicode` objects.</span>
<span class="sd">    Note that currently only encodings that are a superset of ASCII work,</span>
<span class="sd">    strings of other encodings should be passed in as :class:`unicode`.</span>
<span class="sd">    *object_hook*, if specified, will be called with the result of every</span>
<span class="sd">    JSON object decoded and its return value will be used in place of the</span>
<span class="sd">    given :class:`dict`.  This can be used to provide custom</span>
<span class="sd">    deserializations (e.g. to support JSON-RPC class hinting).</span>
<span class="sd">    *object_pairs_hook* is an optional function that will be called with</span>
<span class="sd">    the result of any object literal decode with an ordered list of pairs.</span>
<span class="sd">    The return value of *object_pairs_hook* will be used instead of the</span>
<span class="sd">    :class:`dict`.  This feature can be used to implement custom decoders</span>
<span class="sd">    that rely on the order that the key and value pairs are decoded (for</span>
<span class="sd">    example, :func:`collections.OrderedDict` will remember the order of</span>
<span class="sd">    insertion). If *object_hook* is also defined, the *object_pairs_hook*</span>
<span class="sd">    takes priority.</span>
<span class="sd">    *parse_float*, if specified, will be called with the string of every</span>
<span class="sd">    JSON float to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``float(num_str)``. This can be used to use another datatype or parser</span>
<span class="sd">    for JSON floats (e.g. :class:`decimal.Decimal`).</span>
<span class="sd">    *parse_int*, if specified, will be called with the string of every</span>
<span class="sd">    JSON int to be decoded.  By default, this is equivalent to</span>
<span class="sd">    ``int(num_str)``.  This can be used to use another datatype or parser</span>
<span class="sd">    for JSON integers (e.g. :class:`float`).</span>
<span class="sd">    *strict* controls the parser&#39;s behavior when it encounters an</span>
<span class="sd">    invalid control character in a string. The default setting of</span>
<span class="sd">    ``True`` means that unescaped control characters are parse errors, if</span>
<span class="sd">    ``False`` then control characters will be allowed in strings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">DEFAULT_ENCODING</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">object_hook</span> <span class="o">=</span> <span class="n">object_hook</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">object_pairs_hook</span> <span class="o">=</span> <span class="n">object_pairs_hook</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_float</span> <span class="o">=</span> <span class="n">parse_float</span> <span class="ow">or</span> <span class="nb">float</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_int</span> <span class="o">=</span> <span class="n">parse_int</span> <span class="ow">or</span> <span class="nb">int</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">strict</span> <span class="o">=</span> <span class="n">strict</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_object</span> <span class="o">=</span> <span class="n">JSONObject</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_array</span> <span class="o">=</span> <span class="n">JSONArray</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_string</span> <span class="o">=</span> <span class="n">scanstring</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_mlstring</span> <span class="o">=</span> <span class="n">mlscanstring</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse_tfnns</span> <span class="o">=</span> <span class="n">scantfnns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_object_once</span><span class="p">)</span> <span class="o">=</span> <span class="n">make_scanner</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.HjsonDecoder.decode">
    <p>def <span class="ident">decode</span>(</p><p>self, s, _PY3=True)</p>
    </div>
    

    
  
    <div class="desc"><p>Return the Python representation of <code>s</code> (a <code>str</code> or <code>unicode</code>
instance containing a JSON document)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecoder.decode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecoder.decode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">_PY3</span><span class="o">=</span><span class="n">PY3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the Python representation of ``s`` (a ``str`` or ``unicode``</span>
<span class="sd">    instance containing a JSON document)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_PY3</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
    <span class="n">obj</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">ch</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">getNext</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">end</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">HjsonDecodeError</span><span class="p">(</span><span class="s">&quot;Extra data&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.HjsonDecoder.raw_decode">
    <p>def <span class="ident">raw_decode</span>(</p><p>self, s, idx=0, _PY3=True)</p>
    </div>
    

    
  
    <div class="desc"><p>Decode a JSON document from <code>s</code> (a <code>str</code> or <code>unicode</code>
beginning with a JSON document) and return a 2-tuple of the Python
representation and the index in <code>s</code> where the document ended.
Optionally, <code>idx</code> can be used to specify an offset in <code>s</code> where
the JSON document begins.</p>
<p>This can be used to decode a JSON document from a string that may
have extraneous data at the end.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonDecoder.raw_decode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonDecoder.raw_decode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">raw_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">_PY3</span><span class="o">=</span><span class="n">PY3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Decode a JSON document from ``s`` (a ``str`` or ``unicode``</span>
<span class="sd">    beginning with a JSON document) and return a 2-tuple of the Python</span>
<span class="sd">    representation and the index in ``s`` where the document ended.</span>
<span class="sd">    Optionally, ``idx`` can be used to specify an offset in ``s`` where</span>
<span class="sd">    the JSON document begins.</span>
<span class="sd">    This can be used to decode a JSON document from a string that may</span>
<span class="sd">    have extraneous data at the end.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c"># Ensure that raw_decode bails on negative indexes, the regex</span>
        <span class="c"># would otherwise mask this behavior. #98</span>
        <span class="k">raise</span> <span class="n">HjsonDecodeError</span><span class="p">(</span><span class="s">&#39;Expecting value&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_PY3</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">text_type</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;Input string must be text, not bytes&quot;</span><span class="p">)</span>
    <span class="c"># strip UTF-8 bom</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">idx</span><span class="p">:</span>
        <span class="n">ord0</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">ord0</span> <span class="o">==</span> <span class="mh">0xfeff</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">ord0</span> <span class="o">==</span> <span class="mh">0xef</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;</span><span class="se">\xef\xbb\xbf</span><span class="s">&#39;</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">3</span>
    <span class="n">ch</span><span class="p">,</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">getNext</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="s">&#39;{&#39;</span> <span class="ow">or</span> <span class="n">ch</span> <span class="o">==</span> <span class="s">&#39;[&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c"># assume we have a root object without braces</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_object_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HjsonDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c"># test if we are dealing with a single JSON value instead (true/false/null/num/&quot;&quot;)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan_once</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="hjson.HjsonDecoder.encoding" class="name">var <span class="ident">encoding</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.memo" class="name">var <span class="ident">memo</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.object_hook" class="name">var <span class="ident">object_hook</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.object_pairs_hook" class="name">var <span class="ident">object_pairs_hook</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_array" class="name">var <span class="ident">parse_array</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_float" class="name">var <span class="ident">parse_float</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_int" class="name">var <span class="ident">parse_int</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_mlstring" class="name">var <span class="ident">parse_mlstring</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_object" class="name">var <span class="ident">parse_object</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_string" class="name">var <span class="ident">parse_string</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.parse_tfnns" class="name">var <span class="ident">parse_tfnns</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonDecoder.strict" class="name">var <span class="ident">strict</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="hjson.HjsonEncoder" class="name">class <span class="ident">HjsonEncoder</span></p>
      
  
    <div class="desc"><p>Extensible JSON <a href="http://json.org">http://json.org</a> encoder for Python data structures.</p>
<p>Supports the following objects and types by default:</p>
<p>+-------------------+---------------+
| Python            | JSON          |
+===================+===============+
| dict, namedtuple  | object        |
+-------------------+---------------+
| list, tuple       | array         |
+-------------------+---------------+
| str, unicode      | string        |
+-------------------+---------------+
| int, long, float  | number        |
+-------------------+---------------+
| True              | true          |
+-------------------+---------------+
| False             | false         |
+-------------------+---------------+
| None              | null          |
+-------------------+---------------+</p>
<p>To extend this to recognize other objects, subclass and implement a
<code>.default()</code> method with another method that returns a serializable
object for <code>o</code> if possible, otherwise it should call the superclass
implementation (to raise <code>TypeError</code>).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonEncoder', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonEncoder" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">HjsonEncoder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extensible JSON &lt;http://json.org&gt; encoder for Python data structures.</span>

<span class="sd">    Supports the following objects and types by default:</span>

<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | Python            | JSON          |</span>
<span class="sd">    +===================+===============+</span>
<span class="sd">    | dict, namedtuple  | object        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | list, tuple       | array         |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | str, unicode      | string        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | int, long, float  | number        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | True              | true          |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | False             | false         |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | None              | null          |</span>
<span class="sd">    +-------------------+---------------+</span>

<span class="sd">    To extend this to recognize other objects, subclass and implement a</span>
<span class="sd">    ``.default()`` method with another method that returns a serializable</span>
<span class="sd">    object for ``o`` if possible, otherwise it should call the superclass</span>
<span class="sd">    implementation (to raise ``TypeError``).</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">indent</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor for HjsonEncoder, with sensible defaults.</span>

<span class="sd">        If skipkeys is false, then it is a TypeError to attempt</span>
<span class="sd">        encoding of keys that are not str, int, long, float or None.  If</span>
<span class="sd">        skipkeys is True, such items are simply skipped.</span>

<span class="sd">        If ensure_ascii is true, the output is guaranteed to be str</span>
<span class="sd">        objects with all incoming unicode characters escaped.  If</span>
<span class="sd">        ensure_ascii is false, the output will be unicode object.</span>

<span class="sd">        If check_circular is true, then lists, dicts, and custom encoded</span>
<span class="sd">        objects will be checked for circular references during encoding to</span>
<span class="sd">        prevent an infinite recursion (which would cause an OverflowError).</span>
<span class="sd">        Otherwise, no such check takes place.</span>

<span class="sd">        If sort_keys is true, then the output of dictionaries will be</span>
<span class="sd">        sorted by key; this is useful for regression tests to ensure</span>
<span class="sd">        that JSON serializations can be compared on a day-to-day basis.</span>

<span class="sd">        If indent is a string, then JSON array elements and object members</span>
<span class="sd">        will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">        for each level of nesting.</span>

<span class="sd">        If specified, default is a function that gets called for objects</span>
<span class="sd">        that can&#39;t otherwise be serialized.  It should return a JSON encodable</span>
<span class="sd">        version of the object or raise a ``TypeError``.</span>

<span class="sd">        If encoding is not None, then all input strings will be</span>
<span class="sd">        transformed into unicode using that encoding prior to JSON-encoding.</span>
<span class="sd">        The default is UTF-8.</span>

<span class="sd">        If use_decimal is true (not the default), ``decimal.Decimal`` will</span>
<span class="sd">        be supported directly by the encoder. For the inverse, decode JSON</span>
<span class="sd">        with ``parse_float=decimal.Decimal``.</span>

<span class="sd">        If namedtuple_as_object is true (the default), objects with</span>
<span class="sd">        ``_asdict()`` methods will be encoded as JSON objects.</span>

<span class="sd">        If tuple_as_array is true (the default), tuple (and subclasses) will</span>
<span class="sd">        be encoded as JSON arrays.</span>

<span class="sd">        If bigint_as_string is true (not the default), ints 2**53 and higher</span>
<span class="sd">        or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">        rounding that happens in Javascript otherwise.</span>

<span class="sd">        If int_as_string_bitcount is a positive number (n), then int of size</span>
<span class="sd">        greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">        encoded as strings.</span>

<span class="sd">        If specified, item_sort_key is a callable used to sort the items in</span>
<span class="sd">        each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">        in alphabetical order by key.</span>

<span class="sd">        If for_json is true (not the default), objects with a ``for_json()``</span>
<span class="sd">        method will use the return value of that method for encoding as JSON</span>
<span class="sd">        instead of the object.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span> <span class="o">=</span> <span class="n">skipkeys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span> <span class="o">=</span> <span class="n">ensure_ascii</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span> <span class="o">=</span> <span class="n">check_circular</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span> <span class="o">=</span> <span class="n">sort_keys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span> <span class="o">=</span> <span class="n">use_decimal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span> <span class="o">=</span> <span class="n">namedtuple_as_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span> <span class="o">=</span> <span class="n">tuple_as_array</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="o">=</span> <span class="n">bigint_as_string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span> <span class="o">=</span> <span class="n">item_sort_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span> <span class="o">=</span> <span class="n">for_json</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="n">int_as_string_bitcount</span>
        <span class="k">if</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indent</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span> <span class="o">*</span> <span class="s">&#39; &#39;</span>
        <span class="k">elif</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>

    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement this method in a subclass such that it returns</span>
<span class="sd">        a serializable object for ``o``, or calls the base implementation</span>
<span class="sd">        (to raise a ``TypeError``).</span>

<span class="sd">        For example, to support arbitrary iterators, you could</span>
<span class="sd">        implement default like this::</span>

<span class="sd">            def default(self, o):</span>
<span class="sd">                try:</span>
<span class="sd">                    iterable = iter(o)</span>
<span class="sd">                except TypeError:</span>
<span class="sd">                    pass</span>
<span class="sd">                else:</span>
<span class="sd">                    return list(iterable)</span>
<span class="sd">                return HjsonEncoder.default(self, o)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; is not JSON serializable&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a JSON string representation of a Python data structure.</span>

<span class="sd">        &gt;&gt;&gt; from hjson import HjsonEncoder</span>
<span class="sd">        &gt;&gt;&gt; HjsonEncoder().encode({&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]})</span>
<span class="sd">        &#39;{&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]}&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># This is for extremely simple cases and benchmarks.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
            <span class="n">_encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">_encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span><span class="p">)):</span>
                <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>

        <span class="c"># This doesn&#39;t pass the iterator directly to &#39;&#39;.join() because the</span>
        <span class="c"># exceptions aren&#39;t as detailed.  The list call should be roughly</span>
        <span class="c"># equivalent to the PySequence_Fast that &#39;&#39;.join() would do.</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chunks</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">u&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iterencode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Encode the given object and yield each string</span>
<span class="sd">        representation as available.</span>

<span class="sd">        For example::</span>

<span class="sd">            for chunk in HjsonEncoder().iterencode(bigobject):</span>
<span class="sd">                mysocket.write(chunk)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span><span class="p">:</span>
            <span class="n">markers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">markers</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
            <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring_ascii</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s">&#39;utf-8&#39;</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_orig_encoder</span><span class="o">=</span><span class="n">_encoder</span><span class="p">,</span> <span class="n">_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
                    <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_orig_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">floatstr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_repr</span><span class="o">=</span><span class="n">FLOAT_REPR</span><span class="p">,</span> <span class="n">_inf</span><span class="o">=</span><span class="n">PosInf</span><span class="p">,</span> <span class="n">_neginf</span><span class="o">=-</span><span class="n">PosInf</span><span class="p">):</span>
            <span class="c"># Check for specials. Note that this type of test is processor</span>
            <span class="c"># and/or platform-specific, so do tests which don&#39;t depend on</span>
            <span class="c"># the internals.</span>

            <span class="k">if</span> <span class="n">o</span> <span class="o">!=</span> <span class="n">o</span> <span class="ow">or</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_inf</span> <span class="ow">or</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_neginf</span><span class="p">:</span>
                <span class="k">return</span> <span class="s">&#39;null&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>

        <span class="n">key_memo</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="p">(</span>
            <span class="mi">53</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span><span class="p">)</span>
        <span class="n">_iterencode</span> <span class="o">=</span> <span class="n">_make_iterencode</span><span class="p">(</span>
            <span class="n">markers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">,</span> <span class="n">_encoder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">,</span> <span class="n">floatstr</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">_one_shot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">Decimal</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">key_memo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#hjson.HjsonEncoder">HjsonEncoder</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.HjsonEncoder.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, skipkeys=False, ensure_ascii=True, check_circular=True, sort_keys=False, indent=&#39;  &#39;, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Constructor for HjsonEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, long, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming unicode characters escaped.  If
ensure_ascii is false, the output will be unicode object.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting.</p>
<p>If specified, default is a function that gets called for objects
that can't otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code>TypeError</code>.</p>
<p>If encoding is not None, then all input strings will be
transformed into unicode using that encoding prior to JSON-encoding.
The default is UTF-8.</p>
<p>If use_decimal is true (not the default), <code>decimal.Decimal</code> will
be supported directly by the encoder. For the inverse, decode JSON
with <code>parse_float=decimal.Decimal</code>.</p>
<p>If namedtuple_as_object is true (the default), objects with
<code>_asdict()</code> methods will be encoded as JSON objects.</p>
<p>If tuple_as_array is true (the default), tuple (and subclasses) will
be encoded as JSON arrays.</p>
<p>If bigint_as_string is true (not the default), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise.</p>
<p>If int_as_string_bitcount is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, item_sort_key is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key.</p>
<p>If for_json is true (not the default), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonEncoder.__init__', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonEncoder.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">indent</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
             <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Constructor for HjsonEncoder, with sensible defaults.</span>
<span class="sd">    If skipkeys is false, then it is a TypeError to attempt</span>
<span class="sd">    encoding of keys that are not str, int, long, float or None.  If</span>
<span class="sd">    skipkeys is True, such items are simply skipped.</span>
<span class="sd">    If ensure_ascii is true, the output is guaranteed to be str</span>
<span class="sd">    objects with all incoming unicode characters escaped.  If</span>
<span class="sd">    ensure_ascii is false, the output will be unicode object.</span>
<span class="sd">    If check_circular is true, then lists, dicts, and custom encoded</span>
<span class="sd">    objects will be checked for circular references during encoding to</span>
<span class="sd">    prevent an infinite recursion (which would cause an OverflowError).</span>
<span class="sd">    Otherwise, no such check takes place.</span>
<span class="sd">    If sort_keys is true, then the output of dictionaries will be</span>
<span class="sd">    sorted by key; this is useful for regression tests to ensure</span>
<span class="sd">    that JSON serializations can be compared on a day-to-day basis.</span>
<span class="sd">    If indent is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting.</span>
<span class="sd">    If specified, default is a function that gets called for objects</span>
<span class="sd">    that can&#39;t otherwise be serialized.  It should return a JSON encodable</span>
<span class="sd">    version of the object or raise a ``TypeError``.</span>
<span class="sd">    If encoding is not None, then all input strings will be</span>
<span class="sd">    transformed into unicode using that encoding prior to JSON-encoding.</span>
<span class="sd">    The default is UTF-8.</span>
<span class="sd">    If use_decimal is true (not the default), ``decimal.Decimal`` will</span>
<span class="sd">    be supported directly by the encoder. For the inverse, decode JSON</span>
<span class="sd">    with ``parse_float=decimal.Decimal``.</span>
<span class="sd">    If namedtuple_as_object is true (the default), objects with</span>
<span class="sd">    ``_asdict()`` methods will be encoded as JSON objects.</span>
<span class="sd">    If tuple_as_array is true (the default), tuple (and subclasses) will</span>
<span class="sd">    be encoded as JSON arrays.</span>
<span class="sd">    If bigint_as_string is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>
<span class="sd">    If int_as_string_bitcount is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>
<span class="sd">    If specified, item_sort_key is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key.</span>
<span class="sd">    If for_json is true (not the default), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span> <span class="o">=</span> <span class="n">skipkeys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span> <span class="o">=</span> <span class="n">ensure_ascii</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span> <span class="o">=</span> <span class="n">check_circular</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span> <span class="o">=</span> <span class="n">sort_keys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span> <span class="o">=</span> <span class="n">use_decimal</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span> <span class="o">=</span> <span class="n">namedtuple_as_object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span> <span class="o">=</span> <span class="n">tuple_as_array</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="o">=</span> <span class="n">bigint_as_string</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span> <span class="o">=</span> <span class="n">item_sort_key</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span> <span class="o">=</span> <span class="n">for_json</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="n">int_as_string_bitcount</span>
    <span class="k">if</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indent</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span> <span class="o">*</span> <span class="s">&#39; &#39;</span>
    <span class="k">elif</span> <span class="n">indent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span>
    <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.HjsonEncoder.default">
    <p>def <span class="ident">default</span>(</p><p>self, o)</p>
    </div>
    

    
  
    <div class="desc"><p>Implement this method in a subclass such that it returns
a serializable object for <code>o</code>, or calls the base implementation
(to raise a <code>TypeError</code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this::</p>
<div class="codehilite"><pre>def default(self, o):
    try:
        iterable = iter(o)
    except TypeError:
        pass
    else:
        return list(iterable)
    return HjsonEncoder.default(self, o)
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonEncoder.default', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonEncoder.default" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Implement this method in a subclass such that it returns</span>
<span class="sd">    a serializable object for ``o``, or calls the base implementation</span>
<span class="sd">    (to raise a ``TypeError``).</span>
<span class="sd">    For example, to support arbitrary iterators, you could</span>
<span class="sd">    implement default like this::</span>
<span class="sd">        def default(self, o):</span>
<span class="sd">            try:</span>
<span class="sd">                iterable = iter(o)</span>
<span class="sd">            except TypeError:</span>
<span class="sd">                pass</span>
<span class="sd">            else:</span>
<span class="sd">                return list(iterable)</span>
<span class="sd">            return HjsonEncoder.default(self, o)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; is not JSON serializable&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.HjsonEncoder.encode">
    <p>def <span class="ident">encode</span>(</p><p>self, o)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a JSON string representation of a Python data structure.</p>
<blockquote>
<blockquote>
<blockquote>
<p>from hjson import HjsonEncoder
HjsonEncoder().encode({"foo": ["bar", "baz"]})
'{"foo": ["bar", "baz"]}'</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonEncoder.encode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonEncoder.encode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a JSON string representation of a Python data structure.</span>
<span class="sd">    &gt;&gt;&gt; from hjson import HjsonEncoder</span>
<span class="sd">    &gt;&gt;&gt; HjsonEncoder().encode({&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]})</span>
<span class="sd">    &#39;{&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]}&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># This is for extremely simple cases and benchmarks.</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
        <span class="n">_encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span><span class="p">)):</span>
            <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
    <span class="c"># This doesn&#39;t pass the iterator directly to &#39;&#39;.join() because the</span>
    <span class="c"># exceptions aren&#39;t as detailed.  The list call should be roughly</span>
    <span class="c"># equivalent to the PySequence_Fast that &#39;&#39;.join() would do.</span>
    <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chunks</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">u&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.HjsonEncoder.iterencode">
    <p>def <span class="ident">iterencode</span>(</p><p>self, o, _one_shot=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Encode the given object and yield each string
representation as available.</p>
<p>For example::</p>
<div class="codehilite"><pre>for chunk in HjsonEncoder().iterencode(bigobject):
    mysocket.write(chunk)
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.HjsonEncoder.iterencode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.HjsonEncoder.iterencode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">iterencode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Encode the given object and yield each string</span>
<span class="sd">    representation as available.</span>
<span class="sd">    For example::</span>
<span class="sd">        for chunk in HjsonEncoder().iterencode(bigobject):</span>
<span class="sd">            mysocket.write(chunk)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span><span class="p">:</span>
        <span class="n">markers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">markers</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
        <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring_ascii</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s">&#39;utf-8&#39;</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_orig_encoder</span><span class="o">=</span><span class="n">_encoder</span><span class="p">,</span> <span class="n">_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
                <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_orig_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">floatstr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_repr</span><span class="o">=</span><span class="n">FLOAT_REPR</span><span class="p">,</span> <span class="n">_inf</span><span class="o">=</span><span class="n">PosInf</span><span class="p">,</span> <span class="n">_neginf</span><span class="o">=-</span><span class="n">PosInf</span><span class="p">):</span>
        <span class="c"># Check for specials. Note that this type of test is processor</span>
        <span class="c"># and/or platform-specific, so do tests which don&#39;t depend on</span>
        <span class="c"># the internals.</span>
        <span class="k">if</span> <span class="n">o</span> <span class="o">!=</span> <span class="n">o</span> <span class="ow">or</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_inf</span> <span class="ow">or</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_neginf</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;null&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="n">key_memo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mi">53</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span><span class="p">)</span>
    <span class="n">_iterencode</span> <span class="o">=</span> <span class="n">_make_iterencode</span><span class="p">(</span>
        <span class="n">markers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">,</span> <span class="n">_encoder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">,</span> <span class="n">floatstr</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">_one_shot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">Decimal</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">key_memo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="hjson.HjsonEncoder.bigint_as_string" class="name">var <span class="ident">bigint_as_string</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.check_circular" class="name">var <span class="ident">check_circular</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.encoding" class="name">var <span class="ident">encoding</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.ensure_ascii" class="name">var <span class="ident">ensure_ascii</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.for_json" class="name">var <span class="ident">for_json</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.indent" class="name">var <span class="ident">indent</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.int_as_string_bitcount" class="name">var <span class="ident">int_as_string_bitcount</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.item_sort_key" class="name">var <span class="ident">item_sort_key</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.namedtuple_as_object" class="name">var <span class="ident">namedtuple_as_object</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.skipkeys" class="name">var <span class="ident">skipkeys</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.sort_keys" class="name">var <span class="ident">sort_keys</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.tuple_as_array" class="name">var <span class="ident">tuple_as_array</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.HjsonEncoder.use_decimal" class="name">var <span class="ident">use_decimal</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="hjson.JSONEncoder" class="name">class <span class="ident">JSONEncoder</span></p>
      
  
    <div class="desc"><p>Extensible JSON <a href="http://json.org">http://json.org</a> encoder for Python data structures.</p>
<p>Supports the following objects and types by default:</p>
<p>+-------------------+---------------+
| Python            | JSON          |
+===================+===============+
| dict, namedtuple  | object        |
+-------------------+---------------+
| list, tuple       | array         |
+-------------------+---------------+
| str, unicode      | string        |
+-------------------+---------------+
| int, long, float  | number        |
+-------------------+---------------+
| True              | true          |
+-------------------+---------------+
| False             | false         |
+-------------------+---------------+
| None              | null          |
+-------------------+---------------+</p>
<p>To extend this to recognize other objects, subclass and implement a
<code>.default()</code> method with another method that returns a serializable
object for <code>o</code> if possible, otherwise it should call the superclass
implementation (to raise <code>TypeError</code>).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.JSONEncoder', this);">Show source &equiv;</a></p>
  <div id="source-hjson.JSONEncoder" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">JSONEncoder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extensible JSON &lt;http://json.org&gt; encoder for Python data structures.</span>

<span class="sd">    Supports the following objects and types by default:</span>

<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | Python            | JSON          |</span>
<span class="sd">    +===================+===============+</span>
<span class="sd">    | dict, namedtuple  | object        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | list, tuple       | array         |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | str, unicode      | string        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | int, long, float  | number        |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | True              | true          |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | False             | false         |</span>
<span class="sd">    +-------------------+---------------+</span>
<span class="sd">    | None              | null          |</span>
<span class="sd">    +-------------------+---------------+</span>

<span class="sd">    To extend this to recognize other objects, subclass and implement a</span>
<span class="sd">    ``.default()`` method with another method that returns a serializable</span>
<span class="sd">    object for ``o`` if possible, otherwise it should call the superclass</span>
<span class="sd">    implementation (to raise ``TypeError``).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">item_separator</span> <span class="o">=</span> <span class="s">&#39;, &#39;</span>
    <span class="n">key_separator</span> <span class="o">=</span> <span class="s">&#39;: &#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor for JSONEncoder, with sensible defaults.</span>

<span class="sd">        If skipkeys is false, then it is a TypeError to attempt</span>
<span class="sd">        encoding of keys that are not str, int, long, float or None.  If</span>
<span class="sd">        skipkeys is True, such items are simply skipped.</span>

<span class="sd">        If ensure_ascii is true, the output is guaranteed to be str</span>
<span class="sd">        objects with all incoming unicode characters escaped.  If</span>
<span class="sd">        ensure_ascii is false, the output will be unicode object.</span>

<span class="sd">        If check_circular is true, then lists, dicts, and custom encoded</span>
<span class="sd">        objects will be checked for circular references during encoding to</span>
<span class="sd">        prevent an infinite recursion (which would cause an OverflowError).</span>
<span class="sd">        Otherwise, no such check takes place.</span>

<span class="sd">        If sort_keys is true, then the output of dictionaries will be</span>
<span class="sd">        sorted by key; this is useful for regression tests to ensure</span>
<span class="sd">        that JSON serializations can be compared on a day-to-day basis.</span>

<span class="sd">        If indent is a string, then JSON array elements and object members</span>
<span class="sd">        will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">        for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">        representation without any newlines. For backwards compatibility with</span>
<span class="sd">        versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">        and is converted to a string with that many spaces.</span>

<span class="sd">        If specified, separators should be an (item_separator, key_separator)</span>
<span class="sd">        tuple.  The default is (&#39;, &#39;, &#39;: &#39;) if *indent* is ``None`` and</span>
<span class="sd">        (&#39;,&#39;, &#39;: &#39;) otherwise.  To get the most compact JSON representation,</span>
<span class="sd">        you should specify (&#39;,&#39;, &#39;:&#39;) to eliminate whitespace.</span>

<span class="sd">        If specified, default is a function that gets called for objects</span>
<span class="sd">        that can&#39;t otherwise be serialized.  It should return a JSON encodable</span>
<span class="sd">        version of the object or raise a ``TypeError``.</span>

<span class="sd">        If encoding is not None, then all input strings will be</span>
<span class="sd">        transformed into unicode using that encoding prior to JSON-encoding.</span>
<span class="sd">        The default is UTF-8.</span>

<span class="sd">        If use_decimal is true (not the default), ``decimal.Decimal`` will</span>
<span class="sd">        be supported directly by the encoder. For the inverse, decode JSON</span>
<span class="sd">        with ``parse_float=decimal.Decimal``.</span>

<span class="sd">        If namedtuple_as_object is true (the default), objects with</span>
<span class="sd">        ``_asdict()`` methods will be encoded as JSON objects.</span>

<span class="sd">        If tuple_as_array is true (the default), tuple (and subclasses) will</span>
<span class="sd">        be encoded as JSON arrays.</span>

<span class="sd">        If bigint_as_string is true (not the default), ints 2**53 and higher</span>
<span class="sd">        or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">        rounding that happens in Javascript otherwise.</span>

<span class="sd">        If int_as_string_bitcount is a positive number (n), then int of size</span>
<span class="sd">        greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">        encoded as strings.</span>

<span class="sd">        If specified, item_sort_key is a callable used to sort the items in</span>
<span class="sd">        each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">        in alphabetical order by key.</span>

<span class="sd">        If for_json is true (not the default), objects with a ``for_json()``</span>
<span class="sd">        method will use the return value of that method for encoding as JSON</span>
<span class="sd">        instead of the object.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span> <span class="o">=</span> <span class="n">skipkeys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span> <span class="o">=</span> <span class="n">ensure_ascii</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span> <span class="o">=</span> <span class="n">check_circular</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span> <span class="o">=</span> <span class="n">sort_keys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span> <span class="o">=</span> <span class="n">use_decimal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span> <span class="o">=</span> <span class="n">namedtuple_as_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span> <span class="o">=</span> <span class="n">tuple_as_array</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="o">=</span> <span class="n">bigint_as_string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span> <span class="o">=</span> <span class="n">item_sort_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span> <span class="o">=</span> <span class="n">for_json</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="n">int_as_string_bitcount</span>
        <span class="k">if</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indent</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span> <span class="o">*</span> <span class="s">&#39; &#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span>
        <span class="k">if</span> <span class="n">separators</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">key_separator</span> <span class="o">=</span> <span class="n">separators</span>
        <span class="k">elif</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>

    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement this method in a subclass such that it returns</span>
<span class="sd">        a serializable object for ``o``, or calls the base implementation</span>
<span class="sd">        (to raise a ``TypeError``).</span>

<span class="sd">        For example, to support arbitrary iterators, you could</span>
<span class="sd">        implement default like this::</span>

<span class="sd">            def default(self, o):</span>
<span class="sd">                try:</span>
<span class="sd">                    iterable = iter(o)</span>
<span class="sd">                except TypeError:</span>
<span class="sd">                    pass</span>
<span class="sd">                else:</span>
<span class="sd">                    return list(iterable)</span>
<span class="sd">                return JSONEncoder.default(self, o)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; is not JSON serializable&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a JSON string representation of a Python data structure.</span>

<span class="sd">        &gt;&gt;&gt; from hjson import JSONEncoder</span>
<span class="sd">        &gt;&gt;&gt; JSONEncoder().encode({&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]})</span>
<span class="sd">        &#39;{&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]}&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># This is for extremely simple cases and benchmarks.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
            <span class="n">_encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">_encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span><span class="p">)):</span>
                <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">encode_basestring_ascii</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">encode_basestring</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="c"># This doesn&#39;t pass the iterator directly to &#39;&#39;.join() because the</span>
        <span class="c"># exceptions aren&#39;t as detailed.  The list call should be roughly</span>
        <span class="c"># equivalent to the PySequence_Fast that &#39;&#39;.join() would do.</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chunks</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">u&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iterencode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Encode the given object and yield each string</span>
<span class="sd">        representation as available.</span>

<span class="sd">        For example::</span>

<span class="sd">            for chunk in JSONEncoder().iterencode(bigobject):</span>
<span class="sd">                mysocket.write(chunk)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span><span class="p">:</span>
            <span class="n">markers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">markers</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
            <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring_ascii</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s">&#39;utf-8&#39;</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_orig_encoder</span><span class="o">=</span><span class="n">_encoder</span><span class="p">,</span> <span class="n">_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
                    <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_orig_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">floatstr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_repr</span><span class="o">=</span><span class="n">FLOAT_REPR</span><span class="p">,</span> <span class="n">_inf</span><span class="o">=</span><span class="n">PosInf</span><span class="p">,</span> <span class="n">_neginf</span><span class="o">=-</span><span class="n">PosInf</span><span class="p">):</span>
            <span class="c"># Check for specials. Note that this type of test is processor</span>
            <span class="c"># and/or platform-specific, so do tests which don&#39;t depend on</span>
            <span class="c"># the internals.</span>

            <span class="k">if</span> <span class="n">o</span> <span class="o">!=</span> <span class="n">o</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
            <span class="k">elif</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_inf</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
            <span class="k">elif</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_neginf</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">text</span>

        <span class="n">key_memo</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="p">(</span>
            <span class="mi">53</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span><span class="p">)</span>
        <span class="n">_iterencode</span> <span class="o">=</span> <span class="n">_make_iterencode</span><span class="p">(</span>
            <span class="n">markers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">,</span> <span class="n">_encoder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">,</span> <span class="n">floatstr</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">key_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">_one_shot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span><span class="p">,</span>
            <span class="n">int_as_string_bitcount</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span><span class="p">,</span>
            <span class="n">Decimal</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">key_memo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#hjson.JSONEncoder">JSONEncoder</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="hjson.JSONEncoder.item_separator" class="name">var <span class="ident">item_separator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.key_separator" class="name">var <span class="ident">key_separator</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.JSONEncoder.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, skipkeys=False, ensure_ascii=True, check_circular=True, sort_keys=False, indent=None, separators=None, encoding=&#39;utf-8&#39;, default=None, use_decimal=True, namedtuple_as_object=True, tuple_as_array=True, bigint_as_string=False, item_sort_key=None, for_json=False, int_as_string_bitcount=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, long, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming unicode characters escaped.  If
ensure_ascii is false, the output will be unicode object.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a string, then JSON array elements and object members
will be pretty-printed with a newline followed by that string repeated
for each level of nesting. <code>None</code> (the default) selects the most compact
representation without any newlines. For backwards compatibility with
versions of hjson earlier than 2.1.0, an integer is also accepted
and is converted to a string with that many spaces.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (', ', ': ') if <em>indent</em> is <code>None</code> and
(',', ': ') otherwise.  To get the most compact JSON representation,
you should specify (',', ':') to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can't otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code>TypeError</code>.</p>
<p>If encoding is not None, then all input strings will be
transformed into unicode using that encoding prior to JSON-encoding.
The default is UTF-8.</p>
<p>If use_decimal is true (not the default), <code>decimal.Decimal</code> will
be supported directly by the encoder. For the inverse, decode JSON
with <code>parse_float=decimal.Decimal</code>.</p>
<p>If namedtuple_as_object is true (the default), objects with
<code>_asdict()</code> methods will be encoded as JSON objects.</p>
<p>If tuple_as_array is true (the default), tuple (and subclasses) will
be encoded as JSON arrays.</p>
<p>If bigint_as_string is true (not the default), ints 2<strong>53 and higher
or lower than -2</strong>53 will be encoded as strings. This is to avoid the
rounding that happens in Javascript otherwise.</p>
<p>If int_as_string_bitcount is a positive number (n), then int of size
greater than or equal to 2<strong>n or lower than or equal to -2</strong>n will be
encoded as strings.</p>
<p>If specified, item_sort_key is a callable used to sort the items in
each dictionary. This is useful if you want to sort items other than
in alphabetical order by key.</p>
<p>If for_json is true (not the default), objects with a <code>for_json()</code>
method will use the return value of that method for encoding as JSON
instead of the object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.JSONEncoder.__init__', this);">Show source &equiv;</a></p>
  <div id="source-hjson.JSONEncoder.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skipkeys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">check_circular</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
             <span class="n">use_decimal</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">namedtuple_as_object</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">tuple_as_array</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">bigint_as_string</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">item_sort_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">for_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">int_as_string_bitcount</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Constructor for JSONEncoder, with sensible defaults.</span>
<span class="sd">    If skipkeys is false, then it is a TypeError to attempt</span>
<span class="sd">    encoding of keys that are not str, int, long, float or None.  If</span>
<span class="sd">    skipkeys is True, such items are simply skipped.</span>
<span class="sd">    If ensure_ascii is true, the output is guaranteed to be str</span>
<span class="sd">    objects with all incoming unicode characters escaped.  If</span>
<span class="sd">    ensure_ascii is false, the output will be unicode object.</span>
<span class="sd">    If check_circular is true, then lists, dicts, and custom encoded</span>
<span class="sd">    objects will be checked for circular references during encoding to</span>
<span class="sd">    prevent an infinite recursion (which would cause an OverflowError).</span>
<span class="sd">    Otherwise, no such check takes place.</span>
<span class="sd">    If sort_keys is true, then the output of dictionaries will be</span>
<span class="sd">    sorted by key; this is useful for regression tests to ensure</span>
<span class="sd">    that JSON serializations can be compared on a day-to-day basis.</span>
<span class="sd">    If indent is a string, then JSON array elements and object members</span>
<span class="sd">    will be pretty-printed with a newline followed by that string repeated</span>
<span class="sd">    for each level of nesting. ``None`` (the default) selects the most compact</span>
<span class="sd">    representation without any newlines. For backwards compatibility with</span>
<span class="sd">    versions of hjson earlier than 2.1.0, an integer is also accepted</span>
<span class="sd">    and is converted to a string with that many spaces.</span>
<span class="sd">    If specified, separators should be an (item_separator, key_separator)</span>
<span class="sd">    tuple.  The default is (&#39;, &#39;, &#39;: &#39;) if *indent* is ``None`` and</span>
<span class="sd">    (&#39;,&#39;, &#39;: &#39;) otherwise.  To get the most compact JSON representation,</span>
<span class="sd">    you should specify (&#39;,&#39;, &#39;:&#39;) to eliminate whitespace.</span>
<span class="sd">    If specified, default is a function that gets called for objects</span>
<span class="sd">    that can&#39;t otherwise be serialized.  It should return a JSON encodable</span>
<span class="sd">    version of the object or raise a ``TypeError``.</span>
<span class="sd">    If encoding is not None, then all input strings will be</span>
<span class="sd">    transformed into unicode using that encoding prior to JSON-encoding.</span>
<span class="sd">    The default is UTF-8.</span>
<span class="sd">    If use_decimal is true (not the default), ``decimal.Decimal`` will</span>
<span class="sd">    be supported directly by the encoder. For the inverse, decode JSON</span>
<span class="sd">    with ``parse_float=decimal.Decimal``.</span>
<span class="sd">    If namedtuple_as_object is true (the default), objects with</span>
<span class="sd">    ``_asdict()`` methods will be encoded as JSON objects.</span>
<span class="sd">    If tuple_as_array is true (the default), tuple (and subclasses) will</span>
<span class="sd">    be encoded as JSON arrays.</span>
<span class="sd">    If bigint_as_string is true (not the default), ints 2**53 and higher</span>
<span class="sd">    or lower than -2**53 will be encoded as strings. This is to avoid the</span>
<span class="sd">    rounding that happens in Javascript otherwise.</span>
<span class="sd">    If int_as_string_bitcount is a positive number (n), then int of size</span>
<span class="sd">    greater than or equal to 2**n or lower than or equal to -2**n will be</span>
<span class="sd">    encoded as strings.</span>
<span class="sd">    If specified, item_sort_key is a callable used to sort the items in</span>
<span class="sd">    each dictionary. This is useful if you want to sort items other than</span>
<span class="sd">    in alphabetical order by key.</span>
<span class="sd">    If for_json is true (not the default), objects with a ``for_json()``</span>
<span class="sd">    method will use the return value of that method for encoding as JSON</span>
<span class="sd">    instead of the object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span> <span class="o">=</span> <span class="n">skipkeys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span> <span class="o">=</span> <span class="n">ensure_ascii</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span> <span class="o">=</span> <span class="n">check_circular</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span> <span class="o">=</span> <span class="n">sort_keys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span> <span class="o">=</span> <span class="n">use_decimal</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span> <span class="o">=</span> <span class="n">namedtuple_as_object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span> <span class="o">=</span> <span class="n">tuple_as_array</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="o">=</span> <span class="n">bigint_as_string</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span> <span class="o">=</span> <span class="n">item_sort_key</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span> <span class="o">=</span> <span class="n">for_json</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="n">int_as_string_bitcount</span>
    <span class="k">if</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indent</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span> <span class="o">*</span> <span class="s">&#39; &#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="n">indent</span>
    <span class="k">if</span> <span class="n">separators</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">key_separator</span> <span class="o">=</span> <span class="n">separators</span>
    <span class="k">elif</span> <span class="n">indent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span>
    <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.JSONEncoder.default">
    <p>def <span class="ident">default</span>(</p><p>self, o)</p>
    </div>
    

    
  
    <div class="desc"><p>Implement this method in a subclass such that it returns
a serializable object for <code>o</code>, or calls the base implementation
(to raise a <code>TypeError</code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this::</p>
<div class="codehilite"><pre>def default(self, o):
    try:
        iterable = iter(o)
    except TypeError:
        pass
    else:
        return list(iterable)
    return JSONEncoder.default(self, o)
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.JSONEncoder.default', this);">Show source &equiv;</a></p>
  <div id="source-hjson.JSONEncoder.default" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Implement this method in a subclass such that it returns</span>
<span class="sd">    a serializable object for ``o``, or calls the base implementation</span>
<span class="sd">    (to raise a ``TypeError``).</span>
<span class="sd">    For example, to support arbitrary iterators, you could</span>
<span class="sd">    implement default like this::</span>
<span class="sd">        def default(self, o):</span>
<span class="sd">            try:</span>
<span class="sd">                iterable = iter(o)</span>
<span class="sd">            except TypeError:</span>
<span class="sd">                pass</span>
<span class="sd">            else:</span>
<span class="sd">                return list(iterable)</span>
<span class="sd">            return JSONEncoder.default(self, o)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; is not JSON serializable&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.JSONEncoder.encode">
    <p>def <span class="ident">encode</span>(</p><p>self, o)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a JSON string representation of a Python data structure.</p>
<blockquote>
<blockquote>
<blockquote>
<p>from hjson import JSONEncoder
JSONEncoder().encode({"foo": ["bar", "baz"]})
'{"foo": ["bar", "baz"]}'</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.JSONEncoder.encode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.JSONEncoder.encode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a JSON string representation of a Python data structure.</span>
<span class="sd">    &gt;&gt;&gt; from hjson import JSONEncoder</span>
<span class="sd">    &gt;&gt;&gt; JSONEncoder().encode({&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]})</span>
<span class="sd">    &#39;{&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]}&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># This is for extremely simple cases and benchmarks.</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
        <span class="n">_encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_encoding</span> <span class="o">==</span> <span class="s">&#39;utf-8&#39;</span><span class="p">)):</span>
            <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">encode_basestring_ascii</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">encode_basestring</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="c"># This doesn&#39;t pass the iterator directly to &#39;&#39;.join() because the</span>
    <span class="c"># exceptions aren&#39;t as detailed.  The list call should be roughly</span>
    <span class="c"># equivalent to the PySequence_Fast that &#39;&#39;.join() would do.</span>
    <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chunks</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">u&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.JSONEncoder.iterencode">
    <p>def <span class="ident">iterencode</span>(</p><p>self, o, _one_shot=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Encode the given object and yield each string
representation as available.</p>
<p>For example::</p>
<div class="codehilite"><pre>for chunk in JSONEncoder().iterencode(bigobject):
    mysocket.write(chunk)
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.JSONEncoder.iterencode', this);">Show source &equiv;</a></p>
  <div id="source-hjson.JSONEncoder.iterencode" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">iterencode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">_one_shot</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Encode the given object and yield each string</span>
<span class="sd">    representation as available.</span>
<span class="sd">    For example::</span>
<span class="sd">        for chunk in JSONEncoder().iterencode(bigobject):</span>
<span class="sd">            mysocket.write(chunk)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_circular</span><span class="p">:</span>
        <span class="n">markers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">markers</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ensure_ascii</span><span class="p">:</span>
        <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring_ascii</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_encoder</span> <span class="o">=</span> <span class="n">encode_basestring</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s">&#39;utf-8&#39;</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_orig_encoder</span><span class="o">=</span><span class="n">_encoder</span><span class="p">,</span> <span class="n">_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">binary_type</span><span class="p">):</span>
                <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_encoding</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_orig_encoder</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">floatstr</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">_repr</span><span class="o">=</span><span class="n">FLOAT_REPR</span><span class="p">,</span> <span class="n">_inf</span><span class="o">=</span><span class="n">PosInf</span><span class="p">,</span> <span class="n">_neginf</span><span class="o">=-</span><span class="n">PosInf</span><span class="p">):</span>
        <span class="c"># Check for specials. Note that this type of test is processor</span>
        <span class="c"># and/or platform-specific, so do tests which don&#39;t depend on</span>
        <span class="c"># the internals.</span>
        <span class="k">if</span> <span class="n">o</span> <span class="o">!=</span> <span class="n">o</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
        <span class="k">elif</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_inf</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
        <span class="k">elif</span> <span class="n">o</span> <span class="o">==</span> <span class="n">_neginf</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;null&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_repr</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">text</span>
    <span class="n">key_memo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">int_as_string_bitcount</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mi">53</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bigint_as_string</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">int_as_string_bitcount</span><span class="p">)</span>
    <span class="n">_iterencode</span> <span class="o">=</span> <span class="n">_make_iterencode</span><span class="p">(</span>
        <span class="n">markers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">,</span> <span class="n">_encoder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span><span class="p">,</span> <span class="n">floatstr</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_separator</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_keys</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">skipkeys</span><span class="p">,</span> <span class="n">_one_shot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_decimal</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namedtuple_as_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_as_array</span><span class="p">,</span>
        <span class="n">int_as_string_bitcount</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_sort_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_json</span><span class="p">,</span>
        <span class="n">Decimal</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_iterencode</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">key_memo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="hjson.JSONEncoder.bigint_as_string" class="name">var <span class="ident">bigint_as_string</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.check_circular" class="name">var <span class="ident">check_circular</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.encoding" class="name">var <span class="ident">encoding</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.ensure_ascii" class="name">var <span class="ident">ensure_ascii</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.for_json" class="name">var <span class="ident">for_json</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.indent" class="name">var <span class="ident">indent</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.int_as_string_bitcount" class="name">var <span class="ident">int_as_string_bitcount</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.item_sort_key" class="name">var <span class="ident">item_sort_key</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.namedtuple_as_object" class="name">var <span class="ident">namedtuple_as_object</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.skipkeys" class="name">var <span class="ident">skipkeys</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.sort_keys" class="name">var <span class="ident">sort_keys</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.tuple_as_array" class="name">var <span class="ident">tuple_as_array</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="hjson.JSONEncoder.use_decimal" class="name">var <span class="ident">use_decimal</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="hjson.OrderedDict" class="name">class <span class="ident">OrderedDict</span></p>
      
  
    <div class="desc"><p>Dictionary that remembers insertion order</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">OrderedDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="s">&#39;Dictionary that remembers insertion order&#39;</span>
    <span class="c"># An inherited dict maps keys to values.</span>
    <span class="c"># The inherited dict provides __getitem__, __len__, __contains__, and get.</span>
    <span class="c"># The remaining methods are order-aware.</span>
    <span class="c"># Big-O running times for all methods are the same as regular dictionaries.</span>

    <span class="c"># The internal self.__map dict maps keys to links in a doubly linked list.</span>
    <span class="c"># The circular doubly linked list starts and ends with a sentinel element.</span>
    <span class="c"># The sentinel element never gets deleted (this simplifies the algorithm).</span>
    <span class="c"># The sentinel is in self.__hardroot with a weakref proxy in self.__root.</span>
    <span class="c"># The prev links are weakref proxies (to prevent circular references).</span>
    <span class="c"># Individual links are kept alive by the hard reference in self.__map.</span>
    <span class="c"># Those hard references disappear when a key is deleted from an OrderedDict.</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Initialize an ordered dictionary.  The signature is the same as</span>
<span class="sd">        regular dictionaries, but keyword arguments are not recommended because</span>
<span class="sd">        their insertion order is arbitrary.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&#39;expected at most 1 arguments, got </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__hardroot</span> <span class="o">=</span> <span class="n">_Link</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__root</span> <span class="o">=</span> <span class="n">root</span> <span class="o">=</span> <span class="n">_proxy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__hardroot</span><span class="p">)</span>
            <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span>
                    <span class="n">dict_setitem</span><span class="o">=</span><span class="nb">dict</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">,</span> <span class="n">proxy</span><span class="o">=</span><span class="n">_proxy</span><span class="p">,</span> <span class="n">Link</span><span class="o">=</span><span class="n">_Link</span><span class="p">):</span>
        <span class="s">&#39;od.__setitem__(i, y) &lt;==&gt; od[i]=y&#39;</span>
        <span class="c"># Setting a new item creates a new link at the end of the linked list,</span>
        <span class="c"># and the inherited dictionary is updated with the new key/value pair.</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">()</span>
            <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
            <span class="n">last</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
            <span class="n">link</span><span class="o">.</span><span class="n">prev</span><span class="p">,</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">link</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">last</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">key</span>
            <span class="n">last</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link</span>
            <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">proxy</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
        <span class="n">dict_setitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">dict_delitem</span><span class="o">=</span><span class="nb">dict</span><span class="o">.</span><span class="n">__delitem__</span><span class="p">):</span>
        <span class="s">&#39;od.__delitem__(y) &lt;==&gt; del od[y]&#39;</span>
        <span class="c"># Deleting an existing item uses self.__map to find the link which gets</span>
        <span class="c"># removed by updating the links in the predecessor and successor nodes.</span>
        <span class="n">dict_delitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">link_prev</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">prev</span>
        <span class="n">link_next</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span>
        <span class="n">link_prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link_next</span>
        <span class="n">link_next</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link_prev</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;od.__iter__() &lt;==&gt; iter(od)&#39;</span>
        <span class="c"># Traverse the linked list in order.</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
        <span class="k">while</span> <span class="n">curr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">curr</span><span class="o">.</span><span class="n">key</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">next</span>

    <span class="k">def</span> <span class="nf">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;od.__reversed__() &lt;==&gt; reversed(od)&#39;</span>
        <span class="c"># Traverse the linked list in reverse order.</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
        <span class="k">while</span> <span class="n">curr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">curr</span><span class="o">.</span><span class="n">key</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">prev</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;od.clear() -&gt; None.  Remove all items from od.&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="nb">dict</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">popitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;od.popitem() -&gt; (k, v), return and remove a (key, value) pair.</span>
<span class="sd">        Pairs are returned in LIFO order if last is true or FIFO order if false.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s">&#39;dictionary is empty&#39;</span><span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
            <span class="n">link_prev</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">prev</span>
            <span class="n">link_prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
            <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link_prev</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
            <span class="n">link_next</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span>
            <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link_next</span>
            <span class="n">link_next</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">key</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">move_to_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Move an existing element to the end (or beginning if last==False).</span>

<span class="sd">        Raises KeyError if the element does not exist.</span>
<span class="sd">        When last=True, acts like a fast version of self[key]=self.pop(key).</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">link_prev</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">prev</span>
        <span class="n">link_next</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span>
        <span class="n">link_prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link_next</span>
        <span class="n">link_next</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link_prev</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
        <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
            <span class="n">last</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
            <span class="n">link</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">last</span>
            <span class="n">link</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
            <span class="n">last</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
            <span class="n">link</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span>
            <span class="n">link</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">first</span>
            <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link</span>

    <span class="k">def</span> <span class="nf">__sizeof__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sizeof</span> <span class="o">=</span> <span class="n">_sys</span><span class="o">.</span><span class="n">getsizeof</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>                       <span class="c"># number of links including root</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">sizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>            <span class="c"># instance dictionary</span>
        <span class="n">size</span> <span class="o">+=</span> <span class="n">sizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>          <span class="c"># internal dict and inherited dict</span>
        <span class="n">size</span> <span class="o">+=</span> <span class="n">sizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__hardroot</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span>     <span class="c"># link objects</span>
        <span class="n">size</span> <span class="o">+=</span> <span class="n">sizeof</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__root</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span>         <span class="c"># proxy objects</span>
        <span class="k">return</span> <span class="n">size</span>

    <span class="n">update</span> <span class="o">=</span> <span class="n">__update</span> <span class="o">=</span> <span class="n">MutableMapping</span><span class="o">.</span><span class="n">update</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="n">MutableMapping</span><span class="o">.</span><span class="n">keys</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">MutableMapping</span><span class="o">.</span><span class="n">values</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">MutableMapping</span><span class="o">.</span><span class="n">items</span>
    <span class="n">__ne__</span> <span class="o">=</span> <span class="n">MutableMapping</span><span class="o">.</span><span class="n">__ne__</span>

    <span class="n">__marker</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">__marker</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;od.pop(k[,d]) -&gt; v, remove specified key and return the corresponding</span>
<span class="sd">        value.  If key is not found, d is returned if given, otherwise KeyError</span>
<span class="sd">        is raised.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">__marker</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">default</span>

    <span class="k">def</span> <span class="nf">setdefault</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">&#39;od.setdefault(k[,d]) -&gt; od.get(k,d), also set od[k]=d if k not in od&#39;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">return</span> <span class="n">default</span>

    <span class="nd">@_recursive_repr</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;od.__repr__() &lt;==&gt; repr(od)&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">()&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,)</span>
        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">(</span><span class="si">%r</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>

    <span class="k">def</span> <span class="nf">__reduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;Return state information for pickling&#39;</span>
        <span class="n">inst_dict</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">()):</span>
            <span class="n">inst_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="p">(),</span> <span class="n">inst_dict</span> <span class="ow">or</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&#39;od.copy() -&gt; a shallow copy of od&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">fromkeys</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;OD.fromkeys(S[, v]) -&gt; New ordered dictionary with keys from S.</span>
<span class="sd">        If not specified, the value defaults to None.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="n">cls</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;od.__eq__(y) &lt;==&gt; od==y.  Comparison to another OD is order-sensitive</span>
<span class="sd">        while comparison to a regular mapping is order-insensitive.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">OrderedDict</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="o">.</span><span class="n">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_eq</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="o">.</span><span class="n">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#hjson.OrderedDict">OrderedDict</a></li>
          <li>builtins.dict</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, *args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize an ordered dictionary.  The signature is the same as
regular dictionaries, but keyword arguments are not recommended because
their insertion order is arbitrary.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.__init__', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Initialize an ordered dictionary.  The signature is the same as</span>
<span class="sd">    regular dictionaries, but keyword arguments are not recommended because</span>
<span class="sd">    their insertion order is arbitrary.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&#39;expected at most 1 arguments, got </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__hardroot</span> <span class="o">=</span> <span class="n">_Link</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__root</span> <span class="o">=</span> <span class="n">root</span> <span class="o">=</span> <span class="n">_proxy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__hardroot</span><span class="p">)</span>
        <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.clear">
    <p>def <span class="ident">clear</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>od.clear() -&gt; None.  Remove all items from od.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.clear', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.clear" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&#39;od.clear() -&gt; None.  Remove all items from od.&#39;</span>
    <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
    <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="nb">dict</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.copy">
    <p>def <span class="ident">copy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>od.copy() -&gt; a shallow copy of od</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.copy', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.copy" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&#39;od.copy() -&gt; a shallow copy of od&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.items">
    <p>def <span class="ident">items</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>D.items() -&gt; a set-like object providing a view on D's items</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.items', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.items" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;D.items() -&gt; a set-like object providing a view on D&#39;s items&quot;</span>
    <span class="k">return</span> <span class="n">ItemsView</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.keys">
    <p>def <span class="ident">keys</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>D.keys() -&gt; a set-like object providing a view on D's keys</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.keys', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.keys" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;D.keys() -&gt; a set-like object providing a view on D&#39;s keys&quot;</span>
    <span class="k">return</span> <span class="n">KeysView</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.move_to_end">
    <p>def <span class="ident">move_to_end</span>(</p><p>self, key, last=True)</p>
    </div>
    

    
  
    <div class="desc"><p>Move an existing element to the end (or beginning if last==False).</p>
<p>Raises KeyError if the element does not exist.
When last=True, acts like a fast version of self[key]=self.pop(key).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.move_to_end', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.move_to_end" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">move_to_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Move an existing element to the end (or beginning if last==False).</span>
<span class="sd">    Raises KeyError if the element does not exist.</span>
<span class="sd">    When last=True, acts like a fast version of self[key]=self.pop(key).</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="n">link_prev</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">prev</span>
    <span class="n">link_next</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span>
    <span class="n">link_prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link_next</span>
    <span class="n">link_next</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link_prev</span>
    <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
    <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
        <span class="n">last</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
        <span class="n">link</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">last</span>
        <span class="n">link</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">last</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
        <span class="n">link</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">link</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">first</span>
        <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.pop">
    <p>def <span class="ident">pop</span>(</p><p>self, key, default=&lt;object object at 0x011B1488&gt;)</p>
    </div>
    

    
  
    <div class="desc"><p>od.pop(k[,d]) -&gt; v, remove specified key and return the corresponding
value.  If key is not found, d is returned if given, otherwise KeyError
is raised.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.pop', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.pop" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">__marker</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;od.pop(k[,d]) -&gt; v, remove specified key and return the corresponding</span>
<span class="sd">    value.  If key is not found, d is returned if given, otherwise KeyError</span>
<span class="sd">    is raised.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">__marker</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">default</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.popitem">
    <p>def <span class="ident">popitem</span>(</p><p>self, last=True)</p>
    </div>
    

    
  
    <div class="desc"><p>od.popitem() -&gt; (k, v), return and remove a (key, value) pair.
Pairs are returned in LIFO order if last is true or FIFO order if false.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.popitem', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.popitem" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">popitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;od.popitem() -&gt; (k, v), return and remove a (key, value) pair.</span>
<span class="sd">    Pairs are returned in LIFO order if last is true or FIFO order if false.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s">&#39;dictionary is empty&#39;</span><span class="p">)</span>
    <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root</span>
    <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">prev</span>
        <span class="n">link_prev</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">prev</span>
        <span class="n">link_prev</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">root</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">link_prev</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">next</span>
        <span class="n">link_next</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">next</span>
        <span class="n">root</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">link_next</span>
        <span class="n">link_next</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="n">root</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">key</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.setdefault">
    <p>def <span class="ident">setdefault</span>(</p><p>self, key, default=None)</p>
    </div>
    

    
  
    <div class="desc"><p>od.setdefault(k[,d]) -&gt; od.get(k,d), also set od[k]=d if k not in od</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.setdefault', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.setdefault" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">setdefault</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">&#39;od.setdefault(k[,d]) -&gt; od.get(k,d), also set od[k]=d if k not in od&#39;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
    <span class="k">return</span> <span class="n">default</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.update">
    <p>def <span class="ident">update</span>(</p><p>*args, **kwds)</p>
    </div>
    

    
  
    <div class="desc"><p>D.update([E, ]**F) -&gt; None.  Update D from mapping/iterable E and F.
If E present and has a .keys() method, does:     for k in E: D[k] = E[k]
If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v
In either case, this is followed by: for k, v in F.items(): D[k] = v</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.update', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.update" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; D.update([E, ]**F) -&gt; None.  Update D from mapping/iterable E and F.</span>
<span class="sd">        If E present and has a .keys() method, does:     for k in E: D[k] = E[k]</span>
<span class="sd">        If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v</span>
<span class="sd">        In either case, this is followed by: for k, v in F.items(): D[k] = v</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;update() takes at most 2 positional &quot;</span>
                        <span class="s">&quot;arguments ({} given)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">&quot;update() takes at least 1 argument (0 given)&quot;</span><span class="p">)</span>
    <span class="bp">self</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">other</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="k">else</span> <span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">other</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s">&quot;keys&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">other</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">other</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.values">
    <p>def <span class="ident">values</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>D.values() -&gt; an object providing a view on D's values</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.values', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.values" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;D.values() -&gt; an object providing a view on D&#39;s values&quot;</span>
    <span class="k">return</span> <span class="n">ValuesView</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="hjson.OrderedDict.fromkeys">
    <p>def <span class="ident">fromkeys</span>(</p><p>cls, iterable, value=None)</p>
    </div>
    

    
  
    <div class="desc"><p>OD.fromkeys(S[, v]) -&gt; New ordered dictionary with keys from S.
If not specified, the value defaults to None.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-hjson.OrderedDict.fromkeys', this);">Show source &equiv;</a></p>
  <div id="source-hjson.OrderedDict.fromkeys" class="source">
    <div class="codehilite"><pre><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">fromkeys</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;OD.fromkeys(S[, v]) -&gt; New ordered dictionary with keys from S.</span>
<span class="sd">    If not specified, the value defaults to None.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="bp">self</span> <span class="o">=</span> <span class="n">cls</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.1</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
